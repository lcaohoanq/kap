import{f as W,c as Yt,r as Ni,p as Fi,v as Di,i as wr,d as Bi,a as Qi,b as Ui,n as qi,s as zi,u as Kt,e as xr,g as T,w as Gi,m as rt,M as Hi,h as Ft,R as J,j as Wi,k as Ji,l,L as br,T as gt,S as Ye,o as Yi,q as Ar,t as Ki,x as E,y as Ke}from"./index-D5S7yFe7.js";import{P as Xi}from"./PaginationComponent-Bih5q0F1.js";import{K as Zi}from"./KoiSearchGrid-CsUTDRuk.js";import{S as ts}from"./SearchBar-Dd9HuypW.js";import{u as es}from"./useBreeders-DfW8tSwm.js";import{g as rs}from"./blog.data-C9wF1Moh.js";import{f as ns}from"./format-BOZTN9QO.js";import"./Box-BhEgB52r.js";import"./index-BieYVdmv.js";import"./dataConverter-CpEqXCMb.js";import"./dateTimeUtils-BcV6LRrk.js";import"./KoiDetails-CfUXS_ks.js";import"./TextField-CsRXday1.js";import"./Select-DtV6tKvQ.js";import"./useFormControl-UCy3dLy1.js";function is(e){return!(typeof e!="object"||e instanceof Array)}class ss{filterOutNonSupportedKeys(t,r){const n=Object.create({});return is(t)?(Object.keys(t).forEach(s=>{r.indexOf(s)>=0?n[s]=t[s]:console.warn("Warning - unsupported key provided to configuration: ",s)}),n):Object.create({})}}const Xe=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class Xt extends ss{constructor(t){super();const r=this.filterOutNonSupportedKeys(t,Xe);Object.assign(this,{secure:!0},r)}extend(t){const r=this.filterOutNonSupportedKeys(t,Xe);return new Xt(Object.assign({},this,r))}setCname(t){return this.cname=t,this}setSecureDistribution(t){return this.secureDistribution=t,this}setPrivateCdn(t){return this.privateCdn=t,this}setSignUrl(t){return this.signUrl=t,this}setLongUrlSignature(t){return this.longUrlSignature=t,this}setShorten(t){return this.shorten=t,this}setUseRootPath(t){return this.useRootPath=t,this}setSecure(t){return this.secure=t,this}setForceVersion(t){return this.forceVersion=t,this}setQueryParams(t){return this.queryParams=t,this}}let it=class{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}},os=class extends Error{constructor(t="Unsupported"){super(t)}};function Zt(e){return new os(e)}function as(){return this._qualifierModel||{error:Zt(`unsupported qualifier ${this.constructor.name}`)}}let cs=class{constructor(){this._qualifierModel={}}toJson(){return as.apply(this)}},bt=class extends cs{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof it?this.qualifierValue=r:(this.qualifierValue=new it,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}},I=class extends bt{constructor(t,r){let n;r?n=new it([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}};function us(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function ls(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:Zt(`unsupported action ${this.constructor.name}`)}}let ds=class{constructor(){this._actionModel={}}toJson(){return ls.apply(this)}},te=class extends ds{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),us(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new I(n)):this.qualifiers.set(r,new bt(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new I(t)):t instanceof I&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}};function hs(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}let fs=class extends te{constructor(t){super(),this._actionModel={},this.addQualifier(new bt("b",new it(hs(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}},Ze=class{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:Zt(`unsupported action ${this.constructor.name}`)}}};function ps(e){const t=e;return"error"in t&&!!t.error}function gs(){return new I("lossy")}function ms(){return new I("preserve_transparency")}function ys(e){return new I("progressive",e)}let vs=class extends it{constructor(t){super(t),this.val=t}getValue(){return this.val}};function Q(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const _s={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},ws={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},xs={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},bs={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},As={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},Ts={444:"CHROMA_444",420:"CHROMA_420"},Ss={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"};Q(Ts);Q(Ss);Q(_s);const Os=Q(ws);Q(xs);Q(bs);Q(As);let Cs=class extends te{constructor(t,r,n){super(),this._actionModel={};let s;r instanceof vs?s=r.getValue():s=r,this._actionModel.actionType=Os[t],this._actionModel[n]=s,this.addQualifier(new bt(t,r))}},Es=class extends I{constructor(t){super("progressive",t)}},vt=class extends Cs{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(gs()),this}progressive(t){return t instanceof Es?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(ys(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(ms()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let c;return r?c=new this("f",r):c=new this("f"),s&&(s.mode?c.progressive(s.mode):c.progressive()),n&&c.lossy(),o&&c.preserveTransparency(),c}},Tr=class Sr{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new Ze(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof Sr?this.actions=this.actions.concat(t.actions):this.actions.push(new Ze(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new vt("q",t)),this}format(t){return this.addAction(new vt("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new fs(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new te;let n=t;return typeof t=="string"&&(n=new I(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(ps(n))return n;t.push(n)}return{actions:t}}};class js extends Tr{}class Ms extends Tr{}function Ls(e){return e.match(/^https?:\//)}function $s(e){return e.indexOf("/")<0}function ks(e){return e.match(/^v[0-9]+/)}function Ps(e,t){const r=t.secure,n=t.privateCdn,s=t.cname,o=t.secureDistribution;return!r&&!s?`http://res.cloudinary.com/${e}`:r&&!o&&n?`https://${e}-res.cloudinary.com`:r&&!o?`https://res.cloudinary.com/${e}`:r&&o&&n?`https://${o}`:r&&o?`https://${o}/${e}`:!r&&s?`http://${s}/${e}`:"ERROR"}function Vs(e){return e||"image"}function Rs(e){return e||"upload"}function Is(e,t,r){const n=r!==!1;return t?`v${t}`:ks(e)||Ls(e)||$s(e)?"":n?"v1":""}function ee(e,t,r){let n=t>>0,s=String(r);return e.length>n?String(e):(n=n-e.length,n>s.length&&(s+=Ns(s,n/s.length)),s.slice(0,n)+String(e))}function Ns(e,t){let r=t,n="";for(;r>0;)n+=e,r--;return n}const Fs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_t={};let tr=0;Fs.split("").forEach(e=>{let t=tr.toString(2);t=ee(t,6,"0"),_t[t]=e,tr++});function Ds(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").reverse().join(".")}function Bs(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").map(t=>{const r=+t;if(isNaN(r)||r<0)throw"Invalid version number provided";return ee(t,2,"0")}).join(".")}function er(e){let t="";const n=e.split(".").length*6,s=Ds(e),o=Bs(s);let d=parseInt(o.split(".").join("")).toString(2);if(d=ee(d,n,"0"),d.length%6!==0)throw"Version must be smaller than 43.21.26)";return d.match(/.{1,6}/g).forEach(f=>{t+=_t[f]}),t}function Qs(e){const t={sdkSemver:e.sdkSemver,techVersion:e.techVersion,sdkCode:e.sdkCode,product:e.product,feature:"0",osType:e.osType,osVersion:e.osVersion};return e.accessibility&&(t.feature="D"),e.lazyload&&(t.feature="C"),e.responsive&&(t.feature="A"),e.placeholder&&(t.feature="B"),t}const Us="1.21.0";function qs(e){const[t,r]=e.split("."),n=parseInt(t).toString(2),s=parseInt(r).toString(2),o=n.padStart(6,"0"),c=s.padStart(6,"0");return _t[o]+_t[c]}function zs(){const e="0.0.0";if(typeof window<"u")return e;try{return process.versions.node||e}catch{return e}}function Gs(e){const t={techVersion:zs(),sdkCode:"T",sdkSemver:Us.split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return e?Object.assign(Object.assign({},t),e):t}function rr(e){const t=Gs(e),r=Qs(t);try{const n=Hs(r.techVersion),s=er(r.sdkSemver),o=er(n),c=qs(r.osVersion),d=r.feature,f=r.sdkCode,{product:h,osType:g}=r;return`D${h}${f}${s}${o}${g}${c}${d}`}catch{return"E"}}function Hs(e){const t=e.split(".");return`${t[0]}.${t[1]}`}const nr={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class Ws{constructor(t,r={},n){this.setPublicID(t),this.setCloudConfig(r),this.setURLConfig(n)}setURLConfig(t){return this.urlConfig=new Xt(t),this}setCloudConfig(t){return this.cloudName=t.cloudName,this.apiKey=t.apiKey,this.apiSecret=t.apiSecret,this.authToken=t.authToken,this}setPublicID(t){return this.publicID=t?t.toString():"",this}setDeliveryType(t){return this.deliveryType=t,this}setSuffix(t){return this.suffix=t,this}setSignature(t){return this.signature=t,this}setVersion(t){return t&&(this.version=t),this}setAssetType(t){return t&&(this.assetType=t),this}sign(){return this}toURL(t={}){return this.createCloudinaryURL(null,t.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const t=this.suffix&&this.suffix.indexOf(".")>=0,r=this.suffix&&this.suffix.indexOf("/")>=0;if(t||r)throw"`suffix`` should not include . or /"}getResourceType(){const t=Vs(this.assetType),r=Rs(this.deliveryType),n=!!this.suffix,s=`${t}/${r}`,o=nr[`${t}/${r}`],c=this.urlConfig.useRootPath,d=this.urlConfig.shorten;if(c){if(s==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${s} instead`)}if(d&&s==="image/upload")return"iu";if(n){if(o)return o;throw new Error(`URL Suffix only supported for ${Object.keys(nr).join(", ")}, Provided: ${s} instead`)}return s}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(t,r){if(!this.publicID)return"";this.validateAssetForURLCreation();const n=Ps(this.cloudName,this.urlConfig),s=t?t.toString():"",o=Is(this.publicID,this.version,this.urlConfig.forceVersion),c=this.publicID;if(typeof t=="string")return[n,this.getResourceType(),this.getSignature(),s,o,c.replace(/,/g,"%2C"),this.suffix].filter(f=>f).join("/");{const d=[encodeURI(n),this.getResourceType(),this.getSignature(),encodeURI(s),o,encodeURI(c).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter(g=>g).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),f=this.urlConfig.analytics!==!1&&!c.includes("?");let h="";if(typeof this.urlConfig.queryParams=="object")try{const g=new URLSearchParams(this.urlConfig.queryParams);f&&g.set("_a",rr(r)),h=g.toString()}catch{console.error("Error: URLSearchParams is not available so the queryParams object cannot be parsed, please try passing as an already parsed string")}else h=this.urlConfig.queryParams||"",f&&(h+=`${h.length>0?"&":""}_a=${rr(r)}`);return h?`${d}?${h}`:d}}}class Or extends Ws{constructor(t,r,n,s){super(t,r,n),this.transformation=s}animated(t){return this.transformation.animated(t),this}border(t){return this.transformation.border(t),this}reshape(t){return this.transformation.reshape(t),this}resize(t){return this.transformation.resize(t),this}quality(t){return this.addAction(new vt("q",t)),this}format(t){return this.addAction(new vt("f",t)),this}roundCorners(t){return this.transformation.roundCorners(t),this}overlay(t){return this.transformation.overlay(t),this}addVariable(t){return this.transformation.addVariable(t),this}conditional(t){return this.transformation.conditional(t),this}effect(t){return this.transformation.effect(t),this}adjust(t){return this.transformation.adjust(t),this}rotate(t){return this.transformation.rotate(t),this}namedTransformation(t){return this.transformation.namedTransformation(t),this}delivery(t){return this.transformation.delivery(t),this}backgroundColor(t){return this.transformation.backgroundColor(t),this}psdTools(t){return this.transformation.psdTools(t),this}extract(t){return this.transformation.extract(t),this}addFlag(t){return this.transformation.addFlag(t),this}customFunction(t){return this.transformation.customFunction(t),this}addAction(t){return this.transformation.addAction(t),this}addTransformation(t){return this.transformation.addTransformation(t),this}toString(){return this.transformation.toString()}underlay(t){return this.transformation.underlay(t),this}toURL(t={}){return this.createCloudinaryURL(this.transformation,t==null?void 0:t.trackedAnalytics)}}class Js extends Or{constructor(t,r,n){super(t,r,n,new js)}}class Ys extends Or{constructor(t,r,n){super(t,r,n,new Ms),this.assetType="video"}transcode(t){return this.transformation.transcode(t),this}videoEdit(t){return this.transformation.videoEdit(t),this}}class Ks{constructor(t){t&&(this.cloudinaryConfig=t)}image(t){return new Js(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(t){return new Ys(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(t){return this.cloudinaryConfig=t,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}function Cr(e,t){let r;const n=()=>{const{currentTime:s}=t,c=(s===null?0:s.value)/100;r!==c&&e(c),r=c};return W.update(n,!0),()=>Yt(n)}const mt=new WeakMap;let V;function Xs(e,t){if(t){const{inlineSize:r,blockSize:n}=t[0];return{width:r,height:n}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function Zs({target:e,contentRect:t,borderBoxSize:r}){var n;(n=mt.get(e))===null||n===void 0||n.forEach(s=>{s({target:e,contentSize:t,get size(){return Xs(e,r)}})})}function to(e){e.forEach(Zs)}function eo(){typeof ResizeObserver>"u"||(V=new ResizeObserver(to))}function ro(e,t){V||eo();const r=Ni(e);return r.forEach(n=>{let s=mt.get(n);s||(s=new Set,mt.set(n,s)),s.add(t),V==null||V.observe(n)}),()=>{r.forEach(n=>{const s=mt.get(n);s==null||s.delete(t),s!=null&&s.size||V==null||V.unobserve(n)})}}const yt=new Set;let nt;function no(){nt=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};yt.forEach(r=>r(t))},window.addEventListener("resize",nt)}function io(e){return yt.add(e),nt||no(),()=>{yt.delete(e),!yt.size&&nt&&(nt=void 0)}}function so(e,t){return typeof e=="function"?io(e):ro(e,t)}const oo=50,ir=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),ao=()=>({time:0,x:ir(),y:ir()}),co={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function sr(e,t,r,n){const s=r[t],{length:o,position:c}=co[t],d=s.current,f=r.time;s.current=e[`scroll${c}`],s.scrollLength=e[`scroll${o}`]-e[`client${o}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Fi(0,s.scrollLength,s.current);const h=n-f;s.velocity=h>oo?0:Di(s.current-d,h)}function uo(e,t,r){sr(e,"x",t,r),sr(e,"y",t,r),t.time=r}function lo(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(n instanceof HTMLElement)r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const s=n.getBoundingClientRect();n=n.parentElement;const o=n.getBoundingClientRect();r.x+=s.left-o.left,r.y+=s.top-o.top}else if(n instanceof SVGGraphicsElement){const{x:s,y:o}=n.getBBox();r.x+=s,r.y+=o;let c=null,d=n.parentNode;for(;!c;)d.tagName==="svg"&&(c=d),d=n.parentNode;n=c}else break;return r}const zt={start:0,center:.5,end:1};function or(e,t,r=0){let n=0;if(e in zt&&(e=zt[e]),typeof e=="string"){const s=parseFloat(e);e.endsWith("px")?n=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?n=s/100*document.documentElement.clientWidth:e.endsWith("vh")?n=s/100*document.documentElement.clientHeight:e=s}return typeof e=="number"&&(n=t*e),r+n}const ho=[0,0];function fo(e,t,r,n){let s=Array.isArray(e)?e:ho,o=0,c=0;return typeof e=="number"?s=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e,zt[e]?e:"0"]),o=or(s[0],r,n),c=or(s[1],t),o-c}const po={All:[[0,0],[1,1]]},go={x:0,y:0};function mo(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function yo(e,t,r){const{offset:n=po.All}=r,{target:s=e,axis:o="y"}=r,c=o==="y"?"height":"width",d=s!==e?lo(s,e):go,f=s===e?{width:e.scrollWidth,height:e.scrollHeight}:mo(s),h={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let g=!t[o].interpolate;const w=n.length;for(let y=0;y<w;y++){const M=fo(n[y],h[c],f[c],d[o]);!g&&M!==t[o].interpolatorOffsets[y]&&(g=!0),t[o].offset[y]=M}g&&(t[o].interpolate=wr(t[o].offset,Bi(n),{clamp:!1}),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=Qi(0,1,t[o].interpolate(t[o].current))}function vo(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function _o(e,t,r,n={}){return{measure:()=>vo(e,n.target,r),update:s=>{uo(e,r,s),(n.offset||n.target)&&yo(e,r,n)},notify:()=>t(r)}}const et=new WeakMap,ar=new WeakMap,Dt=new WeakMap,cr=e=>e===document.documentElement?window:e;function re(e,{container:t=document.documentElement,...r}={}){let n=Dt.get(t);n||(n=new Set,Dt.set(t,n));const s=ao(),o=_o(t,e,s,r);if(n.add(o),!et.has(t)){const d=()=>{for(const y of n)y.measure()},f=()=>{for(const y of n)y.update(Ui.timestamp)},h=()=>{for(const y of n)y.notify()},g=()=>{W.read(d,!1,!0),W.read(f,!1,!0),W.update(h,!1,!0)};et.set(t,g);const w=cr(t);window.addEventListener("resize",g,{passive:!0}),t!==document.documentElement&&ar.set(t,so(t,g)),w.addEventListener("scroll",g,{passive:!0})}const c=et.get(t);return W.read(c,!1,!0),()=>{var d;Yt(c);const f=Dt.get(t);if(!f||(f.delete(o),f.size))return;const h=et.get(t);et.delete(t),h&&(cr(t).removeEventListener("scroll",h),(d=ar.get(t))===null||d===void 0||d(),window.removeEventListener("resize",h))}}function wo({source:e,container:t,axis:r="y"}){e&&(t=e);const n={value:0},s=re(o=>{n.value=o[r].progress*100},{container:t,axis:r});return{currentTime:n,cancel:s}}const Bt=new Map;function Er({source:e,container:t=document.documentElement,axis:r="y"}={}){e&&(t=e),Bt.has(t)||Bt.set(t,{});const n=Bt.get(t);return n[r]||(n[r]=zi()?new ScrollTimeline({source:t,axis:r}):wo({source:t,axis:r})),n[r]}function xo(e){return e.length===2}function jr(e){return e&&(e.target||e.offset)}function bo(e,t){return xo(e)||jr(t)?re(r=>{e(r[t.axis].progress,r)},t):Cr(e,Er(t))}function Ao(e,t){if(e.flatten(),jr(t))return e.pause(),re(r=>{e.time=e.duration*r[t.axis].progress},t);{const r=Er(t);return e.attachTimeline?e.attachTimeline(r,n=>(n.pause(),Cr(s=>{n.time=n.duration*s},r))):qi}}function To(e,{axis:t="y",...r}={}){const n={axis:t,...r};return typeof e=="function"?bo(e,n):Ao(e,n)}function ur(e,t){Gi(!!(!t||t.current))}const So=()=>({scrollX:rt(0),scrollY:rt(0),scrollXProgress:rt(0),scrollYProgress:rt(0)});function Oo({container:e,target:t,layoutEffect:r=!0,...n}={}){const s=Kt(So);return(r?xr:T.useEffect)(()=>(ur("target",t),ur("container",e),To((c,{x:d,y:f})=>{s.scrollX.set(d.current),s.scrollXProgress.set(d.progress),s.scrollY.set(f.current),s.scrollYProgress.set(f.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(n.offset)]),s}function Co(e){const t=Kt(()=>rt(e)),{isStatic:r}=T.useContext(Hi);if(r){const[,n]=T.useState(e);T.useEffect(()=>t.on("change",n),[])}return t}function Mr(e,t){const r=Co(t()),n=()=>r.set(t());return n(),xr(()=>{const s=()=>W.preRender(n,!1,!0),o=e.map(c=>c.on("change",s));return()=>{o.forEach(c=>c()),Yt(n)}}),r}const Eo=e=>e&&typeof e=="object"&&e.mix,jo=e=>Eo(e)?e.mix:void 0;function Mo(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],s=e[1+r],o=e[2+r],c=e[3+r],d=wr(s,o,{mixer:jo(o[0]),...c});return t?d(n):d}function Lo(e){Ft.current=[],e();const t=Mr(Ft.current,e);return Ft.current=void 0,t}function $o(e,t,r,n){if(typeof e=="function")return Lo(e);const s=typeof t=="function"?t:Mo(t,r,n);return Array.isArray(e)?lr(e,s):lr([e],([o])=>s(o))}function lr(e,t){const r=Kt(()=>[]);return Mr(e,()=>{r.length=0;const n=e.length;for(let s=0;s<n;s++)r[s]=e[s].get();return t(r)})}var R=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},Gt={exports:{}};(function(e,t){var r=200,n="__lodash_hash_undefined__",s=9007199254740991,o="[object Arguments]",c="[object Array]",d="[object Boolean]",f="[object Date]",h="[object Error]",g="[object Function]",w="[object GeneratorFunction]",y="[object Map]",M="[object Number]",X="[object Object]",at="[object Promise]",C="[object RegExp]",O="[object Set]",fe="[object String]",pe="[object Symbol]",Ct="[object WeakMap]",ge="[object ArrayBuffer]",ct="[object DataView]",me="[object Float32Array]",ye="[object Float64Array]",ve="[object Int8Array]",_e="[object Int16Array]",we="[object Int32Array]",xe="[object Uint8Array]",be="[object Uint8ClampedArray]",Ae="[object Uint16Array]",Te="[object Uint32Array]",pn=/[\\^$.*+?()[\]{}|]/g,gn=/\w*$/,mn=/^\[object .+?Constructor\]$/,yn=/^(?:0|[1-9]\d*)$/,v={};v[o]=v[c]=v[ge]=v[ct]=v[d]=v[f]=v[me]=v[ye]=v[ve]=v[_e]=v[we]=v[y]=v[M]=v[X]=v[C]=v[O]=v[fe]=v[pe]=v[xe]=v[be]=v[Ae]=v[Te]=!0,v[h]=v[g]=v[Ct]=!1;var vn=typeof R=="object"&&R&&R.Object===Object&&R,_n=typeof self=="object"&&self&&self.Object===Object&&self,L=vn||_n||Function("return this")(),Se=t&&!t.nodeType&&t,Oe=Se&&!0&&e&&!e.nodeType&&e,wn=Oe&&Oe.exports===Se;function xn(i,a){return i.set(a[0],a[1]),i}function bn(i,a){return i.add(a),i}function An(i,a){for(var u=-1,p=i?i.length:0;++u<p&&a(i[u],u,i)!==!1;);return i}function Tn(i,a){for(var u=-1,p=a.length,x=i.length;++u<p;)i[x+u]=a[u];return i}function Ce(i,a,u,p){for(var x=-1,b=i?i.length:0;++x<b;)u=a(u,i[x],x,i);return u}function Sn(i,a){for(var u=-1,p=Array(i);++u<i;)p[u]=a(u);return p}function On(i,a){return i==null?void 0:i[a]}function Ee(i){var a=!1;if(i!=null&&typeof i.toString!="function")try{a=!!(i+"")}catch{}return a}function je(i){var a=-1,u=Array(i.size);return i.forEach(function(p,x){u[++a]=[x,p]}),u}function Et(i,a){return function(u){return i(a(u))}}function Me(i){var a=-1,u=Array(i.size);return i.forEach(function(p){u[++a]=p}),u}var Cn=Array.prototype,En=Function.prototype,ut=Object.prototype,jt=L["__core-js_shared__"],Le=function(){var i=/[^.]+$/.exec(jt&&jt.keys&&jt.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),$e=En.toString,P=ut.hasOwnProperty,lt=ut.toString,jn=RegExp("^"+$e.call(P).replace(pn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ke=wn?L.Buffer:void 0,Pe=L.Symbol,Ve=L.Uint8Array,Mn=Et(Object.getPrototypeOf,Object),Ln=Object.create,$n=ut.propertyIsEnumerable,kn=Cn.splice,Re=Object.getOwnPropertySymbols,Pn=ke?ke.isBuffer:void 0,Vn=Et(Object.keys,Object),Mt=G(L,"DataView"),Z=G(L,"Map"),Lt=G(L,"Promise"),$t=G(L,"Set"),kt=G(L,"WeakMap"),tt=G(Object,"create"),Rn=D(Mt),In=D(Z),Nn=D(Lt),Fn=D($t),Dn=D(kt),Ie=Pe?Pe.prototype:void 0,Ne=Ie?Ie.valueOf:void 0;function N(i){var a=-1,u=i?i.length:0;for(this.clear();++a<u;){var p=i[a];this.set(p[0],p[1])}}function Bn(){this.__data__=tt?tt(null):{}}function Qn(i){return this.has(i)&&delete this.__data__[i]}function Un(i){var a=this.__data__;if(tt){var u=a[i];return u===n?void 0:u}return P.call(a,i)?a[i]:void 0}function qn(i){var a=this.__data__;return tt?a[i]!==void 0:P.call(a,i)}function zn(i,a){var u=this.__data__;return u[i]=tt&&a===void 0?n:a,this}N.prototype.clear=Bn,N.prototype.delete=Qn,N.prototype.get=Un,N.prototype.has=qn,N.prototype.set=zn;function $(i){var a=-1,u=i?i.length:0;for(this.clear();++a<u;){var p=i[a];this.set(p[0],p[1])}}function Gn(){this.__data__=[]}function Hn(i){var a=this.__data__,u=dt(a,i);if(u<0)return!1;var p=a.length-1;return u==p?a.pop():kn.call(a,u,1),!0}function Wn(i){var a=this.__data__,u=dt(a,i);return u<0?void 0:a[u][1]}function Jn(i){return dt(this.__data__,i)>-1}function Yn(i,a){var u=this.__data__,p=dt(u,i);return p<0?u.push([i,a]):u[p][1]=a,this}$.prototype.clear=Gn,$.prototype.delete=Hn,$.prototype.get=Wn,$.prototype.has=Jn,$.prototype.set=Yn;function q(i){var a=-1,u=i?i.length:0;for(this.clear();++a<u;){var p=i[a];this.set(p[0],p[1])}}function Kn(){this.__data__={hash:new N,map:new(Z||$),string:new N}}function Xn(i){return ht(this,i).delete(i)}function Zn(i){return ht(this,i).get(i)}function ti(i){return ht(this,i).has(i)}function ei(i,a){return ht(this,i).set(i,a),this}q.prototype.clear=Kn,q.prototype.delete=Xn,q.prototype.get=Zn,q.prototype.has=ti,q.prototype.set=ei;function z(i){this.__data__=new $(i)}function ri(){this.__data__=new $}function ni(i){return this.__data__.delete(i)}function ii(i){return this.__data__.get(i)}function si(i){return this.__data__.has(i)}function oi(i,a){var u=this.__data__;if(u instanceof $){var p=u.__data__;if(!Z||p.length<r-1)return p.push([i,a]),this;u=this.__data__=new q(p)}return u.set(i,a),this}z.prototype.clear=ri,z.prototype.delete=ni,z.prototype.get=ii,z.prototype.has=si,z.prototype.set=oi;function ai(i,a){var u=Rt(i)||Li(i)?Sn(i.length,String):[],p=u.length,x=!!p;for(var b in i)P.call(i,b)&&!(x&&(b=="length"||Ci(b,p)))&&u.push(b);return u}function Fe(i,a,u){var p=i[a];(!(P.call(i,a)&&Ue(p,u))||u===void 0&&!(a in i))&&(i[a]=u)}function dt(i,a){for(var u=i.length;u--;)if(Ue(i[u][0],a))return u;return-1}function ci(i,a){return i&&De(a,It(a),i)}function Pt(i,a,u,p,x,b,k){var A;if(p&&(A=b?p(i,x,b,k):p(i)),A!==void 0)return A;if(!ft(i))return i;var Ge=Rt(i);if(Ge){if(A=Ti(i),!a)return xi(i,A)}else{var H=F(i),He=H==g||H==w;if(ki(i))return pi(i,a);if(H==X||H==o||He&&!b){if(Ee(i))return b?i:{};if(A=Si(He?{}:i),!a)return bi(i,ci(A,i))}else{if(!v[H])return b?i:{};A=Oi(i,H,Pt,a)}}k||(k=new z);var We=k.get(i);if(We)return We;if(k.set(i,A),!Ge)var Je=u?Ai(i):It(i);return An(Je||i,function(Nt,pt){Je&&(pt=Nt,Nt=i[pt]),Fe(A,pt,Pt(Nt,a,u,p,pt,i,k))}),A}function ui(i){return ft(i)?Ln(i):{}}function li(i,a,u){var p=a(i);return Rt(i)?p:Tn(p,u(i))}function di(i){return lt.call(i)}function hi(i){if(!ft(i)||ji(i))return!1;var a=ze(i)||Ee(i)?jn:mn;return a.test(D(i))}function fi(i){if(!Qe(i))return Vn(i);var a=[];for(var u in Object(i))P.call(i,u)&&u!="constructor"&&a.push(u);return a}function pi(i,a){if(a)return i.slice();var u=new i.constructor(i.length);return i.copy(u),u}function Vt(i){var a=new i.constructor(i.byteLength);return new Ve(a).set(new Ve(i)),a}function gi(i,a){var u=a?Vt(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.byteLength)}function mi(i,a,u){var p=a?u(je(i),!0):je(i);return Ce(p,xn,new i.constructor)}function yi(i){var a=new i.constructor(i.source,gn.exec(i));return a.lastIndex=i.lastIndex,a}function vi(i,a,u){var p=a?u(Me(i),!0):Me(i);return Ce(p,bn,new i.constructor)}function _i(i){return Ne?Object(Ne.call(i)):{}}function wi(i,a){var u=a?Vt(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.length)}function xi(i,a){var u=-1,p=i.length;for(a||(a=Array(p));++u<p;)a[u]=i[u];return a}function De(i,a,u,p){u||(u={});for(var x=-1,b=a.length;++x<b;){var k=a[x],A=void 0;Fe(u,k,A===void 0?i[k]:A)}return u}function bi(i,a){return De(i,Be(i),a)}function Ai(i){return li(i,It,Be)}function ht(i,a){var u=i.__data__;return Ei(a)?u[typeof a=="string"?"string":"hash"]:u.map}function G(i,a){var u=On(i,a);return hi(u)?u:void 0}var Be=Re?Et(Re,Object):Ri,F=di;(Mt&&F(new Mt(new ArrayBuffer(1)))!=ct||Z&&F(new Z)!=y||Lt&&F(Lt.resolve())!=at||$t&&F(new $t)!=O||kt&&F(new kt)!=Ct)&&(F=function(i){var a=lt.call(i),u=a==X?i.constructor:void 0,p=u?D(u):void 0;if(p)switch(p){case Rn:return ct;case In:return y;case Nn:return at;case Fn:return O;case Dn:return Ct}return a});function Ti(i){var a=i.length,u=i.constructor(a);return a&&typeof i[0]=="string"&&P.call(i,"index")&&(u.index=i.index,u.input=i.input),u}function Si(i){return typeof i.constructor=="function"&&!Qe(i)?ui(Mn(i)):{}}function Oi(i,a,u,p){var x=i.constructor;switch(a){case ge:return Vt(i);case d:case f:return new x(+i);case ct:return gi(i,p);case me:case ye:case ve:case _e:case we:case xe:case be:case Ae:case Te:return wi(i,p);case y:return mi(i,p,u);case M:case fe:return new x(i);case C:return yi(i);case O:return vi(i,p,u);case pe:return _i(i)}}function Ci(i,a){return a=a??s,!!a&&(typeof i=="number"||yn.test(i))&&i>-1&&i%1==0&&i<a}function Ei(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function ji(i){return!!Le&&Le in i}function Qe(i){var a=i&&i.constructor,u=typeof a=="function"&&a.prototype||ut;return i===u}function D(i){if(i!=null){try{return $e.call(i)}catch{}try{return i+""}catch{}}return""}function Mi(i){return Pt(i,!0,!0)}function Ue(i,a){return i===a||i!==i&&a!==a}function Li(i){return $i(i)&&P.call(i,"callee")&&(!$n.call(i,"callee")||lt.call(i)==o)}var Rt=Array.isArray;function qe(i){return i!=null&&Pi(i.length)&&!ze(i)}function $i(i){return Vi(i)&&qe(i)}var ki=Pn||Ii;function ze(i){var a=ft(i)?lt.call(i):"";return a==g||a==w}function Pi(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=s}function ft(i){var a=typeof i;return!!i&&(a=="object"||a=="function")}function Vi(i){return!!i&&typeof i=="object"}function It(i){return qe(i)?ai(i):fi(i)}function Ri(){return[]}function Ii(){return!1}e.exports=Mi})(Gt,Gt.exports);var B=Gt.exports,Ht=function(){return Ht=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ht.apply(this,arguments)};function ko(e,t,r,n){function s(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(g){try{h(n.next(g))}catch(w){c(w)}}function f(g){try{h(n.throw(g))}catch(w){c(w)}}function h(g){g.done?o(g.value):s(g.value).then(d,f)}h((n=n.apply(e,[])).next())})}function Po(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(h){return function(g){return f([h,g])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function wt(e,t,r,n,s){return ko(this,void 0,void 0,function(){var o,c;return Po(this,function(d){switch(d.label){case 0:if(r===void 0)return[2];c=0,d.label=1;case 1:return c<r.length?[4,r[c](e,t,n,s,r)]:[3,4];case 2:if(o=d.sent(),o==="canceled")return[3,4];d.label=3;case 3:return c++,[3,1];case 4:return o!=="canceled"?[2,o]:[2]}})})}var dr=function(e,t){return t===void 0&&(t={}),e?{trackedAnalytics:Ht({sdkCode:e.sdkCode,sdkSemver:e.sdkSemver,techVersion:e.techVersion},t)}:null},Vo=function(){function e(t,r,n,s){var o=this;this.isMounted=!0,this.imgElement=t,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var c=B(r);wt(t,c,n,this.htmlPluginState,s).then(function(d){if(o.isMounted){o.htmlPluginState.pluginEventSubscription.forEach(function(h){h()});var f=dr(s,d);o.imgElement.setAttribute("src",c.toURL(f))}})}return e.prototype.update=function(t,r,n){var s=this,o=B(t);wt(this.imgElement,o,r,this.htmlPluginState).then(function(c){if(s.isMounted){var d=dr(n,c);s.imgElement.setAttribute("src",o.toURL(d))}})},e.prototype.unmount=function(){this.isMounted=!1},e}();class _{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}}class Ro extends Error{constructor(t="Unsupported"){super(t)}}function ne(e){return new Ro(e)}function Io(){return this._qualifierModel||{error:ne(`unsupported qualifier ${this.constructor.name}`)}}class No{constructor(){this._qualifierModel={}}toJson(){return Io.apply(this)}}class m extends No{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof _?this.qualifierValue=r:(this.qualifierValue=new _,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}}class S extends m{constructor(t,r){let n;r?n=new _([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}}function Fo(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function Do(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:ne(`unsupported action ${this.constructor.name}`)}}class Bo{constructor(){this._actionModel={}}toJson(){return Do.apply(this)}}class j extends Bo{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),Fo(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new S(n)):this.qualifiers.set(r,new m(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new S(t)):t instanceof S&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}}class ie extends j{constructor(t){super(),this.regionType=t,this._actionModel.regionType=t}}class At extends ie{constructor(){super("custom")}x(t){return this._actionModel.x=t,this.addQualifier(new m("x",t)),this}y(t){return this._actionModel.y=t,this.addQualifier(new m("y",t)),this}width(t){return this._actionModel.width=t,this.addQualifier(new m("w",t)),this}height(t){return this._actionModel.height=t,this.addQualifier(new m("h",t)),this}static fromJson(t){const r=new At;return t.width&&r.width(t.width),t.height&&r.height(t.height),t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function Qo(){return new At}function Lr(){return new ie("faces")}function Uo(){return new ie("ocr_text")}class qo extends j{constructor(t){super(),this._actionModel={},this._strength=t,this._actionModel.actionType="blur",this._actionModel.strength=t}region(t){return this._region=t,this._actionModel.region=t.toJson(),this}strength(t){return this._strength=t,this._actionModel.strength=t,this}prepareQualifiers(){const t=this._strength?`:${this._strength}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new m("e",`blur_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new m("e",`blur_region${t}`)),this.addQualifier(new m("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new m("e",`blur_faces${t}`))):this.addQualifier(new m("e",`blur${t}`))}static fromJson(t){const{strength:r,region:n}=t,s=new this(r);return r&&s.strength(r),n&&n.regionType==="faces"&&s.region(Lr()),n&&n.regionType==="ocr_text"&&s.region(Uo()),n&&n.regionType==="custom"&&s.region(At.fromJson(n)),s}}function U(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const $r={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},zo={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},kr={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},Pr={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},Go={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},Vr={444:"CHROMA_444",420:"CHROMA_420"},Ho={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"},Wo=U(Vr);U(Ho);const Jo=U($r),Yo=U(zo),Rr=U(kr);U(Pr);U(Go);class Ir extends j{constructor(t,r){super(),this._actionModel={},this._actionModel.actionType=Rr[t]||t;const n=this.createEffectQualifier(t,r);this.addQualifier(n)}createEffectQualifier(t,r){let n;return r?n=new _([t,`${r}`]).setDelimiter(":"):n=new _(t),new m("e",n)}static fromJson(t){const{actionType:r,level:n,strength:s}=t,o=kr[r]||r;return new this(o,n||s)}}class Ko extends Ir{constructor(t,r){super(t,r),this.LEVEL_NAME="level",this._actionModel={},this.effectType=t,this._actionModel.actionType=Rr[t]||t,r&&this.setLevel(r)}setLevel(t){this._actionModel[this.LEVEL_NAME]=t;const r=this.createEffectQualifier(this.effectType,t);return this.addQualifier(r),this}}function Tt(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class Xo extends j{constructor(){super(),this._actionModel={},this._actionModel.actionType="vectorize"}numOfColors(t){return this._actionModel.numOfColors=t,this._numOfColors=t,this}detailsLevel(t){return this._actionModel.detailLevel=t,this._detailsLevel=t,this}despeckleLevel(t){return this._actionModel.despeckleLevel=t,this._despeckleLevel=t,this}cornersLevel(t){return this._actionModel.cornersLevel=t,this._cornersLevel=t,this}paths(t){return this._actionModel.paths=t,this._paths=t,this}prepareQualifiers(){let t="vectorize";this._numOfColors&&(t+=`:${new _(`colors:${this._numOfColors}`).toString()}`),this._detailsLevel&&(t+=`:${new _(`detail:${this._detailsLevel}`).toString()}`),this._despeckleLevel&&(t+=`:${new _(`despeckle:${this._despeckleLevel}`).toString()}`),this._paths&&(t+=`:${new _(`paths:${this._paths}`).toString()}`),this._cornersLevel&&(t+=`:${new _(`corners:${this._cornersLevel}`).toString()}`),this.addQualifier(new m("e",t))}static fromJson(t){const{actionType:r,paths:n,cornersLevel:s,despeckleLevel:o,detailLevel:c,numOfColors:d}=t,f=new this;return n&&f.paths(n),s&&f.cornersLevel(s),o&&f.despeckleLevel(o),c&&f.detailsLevel(c),d&&f.numOfColors(d),f}}class Zo extends Ko{level(t){return this._actionModel.level=t,this.setLevel(t)}}class ta extends j{constructor(){super(),this._actionModel={},this._actionModel.actionType="assistColorblind",this.addQualifier(new m("e",new _("assist_colorblind")))}xray(){return this._actionModel.type="xray",this.addQualifier(new m("e",new _(["assist_colorblind","xray"]).setDelimiter(":")))}stripesStrength(t){return this._actionModel.type="stripes",this._actionModel.stripesStrength=t,this.addQualifier(new m("e",new _(["assist_colorblind",t]).setDelimiter(":")))}static fromJson(t){const{actionType:r,type:n,stripesStrength:s}=t,o=new this;return n==="xray"&&o.xray(),n==="stripes"&&s&&o.stripesStrength(s),o}}class ea extends Zo{color(t){return this._actionModel.color=t,this.addQualifier(new m("co",new _(Tt(t))))}static fromJson(t){const{actionType:r,level:n,color:s}=t,o=new this(r,n);return s&&o.color(s),o}}class ra extends j{constructor(t){super(),this._actionModel={},this._squareSize=t,this._actionModel.actionType="pixelate",this._actionModel.squareSize=t}region(t){return this._region=t,this._actionModel.region={regionType:this._region.regionType},this}squareSize(t){return this._squareSize=t,this._actionModel.squareSize=t,this}prepareQualifiers(){const t=this._squareSize?`:${this._squareSize}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new m("e",`pixelate_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new m("e",`pixelate_region${t}`)),this.addQualifier(new m("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new m("e",`pixelate_faces${t}`))):this.addQualifier(new m("e",`pixelate${t}`))}static fromJson(t){const{region:r,squareSize:n}=t,s=new this(n);return n&&s.squareSize(n),r&&r.regionType==="faces"&&s.region(Lr()),r&&r.regionType==="custom"&&s.region(Qo()),s}}const na=e=>ca(encodeURIComponent,oa,aa)(e),ia=/[!'()*~_.-]/g,sa={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A","~":"%7E",_:"%5F",".":"%2E","-":"%2D"},oa=e=>e.replace(ia,t=>{var r;return(r=sa[t])!==null&&r!==void 0?r:t}),aa=e=>e.replace(/%20/g," "),ca=(...e)=>t=>e.reduce((r,n)=>n(r),t);function ua(e){return new qo(e)}function la(){return new Ir("grayscale")}function hr(e){return new ea("colorize",e)}function da(){return new Xo}function ha(){return new ta}function fa(e){return new ra(e)}class pa extends j{constructor(t){super(),this._actionModel={},this.addQualifier(new m("b",new _(Tt(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}}class fr{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:ne(`unsupported action ${this.constructor.name}`)}}}function ga(e){const t=e;return"error"in t&&!!t.error}function ma(){return new S("ignore_aspect_ratio")}function ya(){return new S("lossy")}function va(){return new S("preserve_transparency")}function _a(e){return new S("progressive",e)}function wa(){return new S("region_relative")}function xa(){return new S("relative")}class se extends _{constructor(t){super(t),this.val=t}getValue(){return this.val}}class Nr extends j{constructor(t,r,n){super(),this._actionModel={};let s;r instanceof se?s=r.getValue():s=r,this._actionModel.actionType=Yo[t],this._actionModel[n]=s,this.addQualifier(new m(t,r))}}class ba extends S{constructor(t){super("progressive",t)}}class Wt extends Nr{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(ya()),this}progressive(t){return t instanceof ba?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(_a(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(va()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let c;return r?c=new this("f",r):c=new this("f"),s&&(s.mode?c.progressive(s.mode):c.progressive()),n&&c.lossy(),o&&c.preserveTransparency(),c}}class K{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new fr(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof K?this.actions=this.actions.concat(t.actions):this.actions.push(new fr(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new Wt("q",t)),this}format(t){return this.addAction(new Wt("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new pa(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new j;let n=t;return typeof t=="string"&&(n=new S(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(ga(n))return n;t.push(n)}return{actions:t}}}function pr(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}class Aa extends _{}class Ta extends j{constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=Jo[t]||t,this.addQualifier(new m("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new m("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new m("w",t))}aspectRatio(t){if(t instanceof Aa)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new m("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=pr(t),this.addQualifier(new m("ar",pr(t)));if(t instanceof S)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(xa())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(wa())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:c,width:d,height:f}=n,h=$r[r]||r,g=new this(h,d,f);return c&&g.aspectRatio(c==="ignore_aspect_ratio"?ma():c),s&&g.relative(),o&&g.regionRelative(),g}}class oe extends m{constructor(t){super("g",new _(t))}}class Fr extends oe{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}}class Dr extends oe{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}}class Br extends oe{constructor(t){super(t)}}function Sa(e){return new Br(e)}function Qr(...e){const t=[...e];return new Dr(t)}function Ur(){return new Fr}class Y extends _{constructor(t){super(),this.name=t}toString(){return this.name}}function Oa(){return new Y("ocr_text")}function Ca(e){return e&&`${e}`.split(":")[0]==="auto"}function Ea(e){const t=ae(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function ae(e){return`${e}`.replace("g_","")}function ja(e){return{compass:ae(e),gravityType:"direction"}}function Ma(e){return ae(e)==="ocr_text"}function La(){return{gravityType:"ocr"}}function $a(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function ka(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function qr(e){let t;const r=e==="auto"?new Fr:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(ka)}}function Pa(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),c=Ur().autoFocus(...o);s.fallbackGravity=qr(c)}return s}function Va(e){const r=e.split(":").map(n=>new Y(n));return new Dr(r)}function Ra(e){return Ea(e)?ja(e):Ma(e)?La():Ca(e)||$a(e)?qr(e):Pa(typeof e=="string"?Va(e):e)}class ce extends _{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){const n=t instanceof Y?t:new Y(t);return new ce(n,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}}class zr extends _{constructor(t){super(),this.val=t}toString(){return this.val}}function Ia(e){return e.gravityType==="direction"}function Na(e){return e.gravityType==="ocr"}function Fa(e){return e.gravityType==="auto"}function Da(e){const{object:t,weight:r,avoid:n}=e,s=new ce(new Y(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function Gr(e){const r=(e.autoFocus||[]).map(Da);return Ur().autoFocus(...r)}function Ba(e){const t=(e.focusOnObjects||[]).map(n=>new Y(n)),r=Qr(...t);if(e.fallbackGravity){const n=Gr(e.fallbackGravity);r.fallbackGravity(n)}return r}function Qa(e){return Ia(e)?new Br(new zr(e.compass)):Na(e)?Qr(Oa()):Fa(e)?Gr(e):Ba(e)}class ue extends Ta{gravity(t){this._actionModel.gravity=Ra(t);const r=typeof t=="string"?new m("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(Qa(t.gravity)),r}}class ot extends m{constructor(t){super("b"),t&&this.addValue(t)}}const Hr=100,Ua=0;class qa extends ot{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){const t=this.intensityLevel!==void 0?`:${this.intensityLevel}`:"",r=this.brightnessLevel!==void 0?this.intensityLevel!==void 0?`:${this.brightnessLevel}`:`:${Hr}:${this.brightnessLevel}`:"";return`b_blurred${t}${r}`}}var Wr=qa;class le extends ot{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map(r=>Tt(r)),this}}class Jr extends le{toString(){return`
    b_auto:border
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Yr extends le{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}}class Kr extends Yr{toString(){return`
    b_auto:border_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Xr extends Yr{toString(){return`
    b_auto:predominant_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Zr extends le{toString(){return`
    b_auto:predominant
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class tn extends ot{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(t){try{this._prompt=decodeURIComponent(t)}catch{this._prompt=t}return this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return`b_gen_fill${this._prompt?`:prompt_${na(this._prompt)}`:""}`}}function en(e){return`${e}`.replace("b_","")}function za(){return{backgroundType:"auto"}}function Ga(e){const{intensityLevel:t,brightnessLevel:r}=e,n={backgroundType:"blurred"};return(t||t===0)&&(n.intensity=t),(r||r===0)&&(n.brightness=r),n}function de(e){const t=e._contrast,r=e._palette,n={backgroundType:""};return t&&(n.contrast=!0),r&&(n.palette=r),n}function Ha(e){return Object.assign(Object.assign({},de(e)),{backgroundType:"border"})}function rn(e){const t=e._gradientColors,r=`${e._gradientDirection}`,n=de(e);return t&&(n.gradientColors=t),r&&(n.gradientDirection=r),n}function Wa(e){return Object.assign(Object.assign({},rn(e)),{backgroundType:"borderGradient"})}function Ja(e){return{backgroundType:"color",color:en(e)}}function Ya(e){return Object.assign(Object.assign({},de(e)),{backgroundType:"predominant"})}function Ka(e){return Object.assign(Object.assign({},rn(e)),{backgroundType:"predominantGradient"})}function Xa(e){return Object.assign({backgroundType:e.getBackgroundType()},e.getPrompt()?{prompt:e.getPrompt()}:{})}function Za(e){return en(e)==="auto"?za():e instanceof Wr?Ga(e):e instanceof Jr?Ha(e):e instanceof Kr?Wa(e):e instanceof Zr?Ya(e):e instanceof Xr?Ka(e):e instanceof tn?Xa(e):Ja(e)}function tc(){return new se("svg")}function he(){return new se("auto")}function nn(){return new Jr}function sn(){return new ot("auto")}function on(){return new Kr}function an(){return new Xr}function cn(){return new Zr}function un(e){return new ot(Tt(e))}function ec(){return new Wr}function ln(){return new tn}const dn={auto:sn,border:nn,borderGradient:on,predominantGradient:an,predominant:cn,color:un,blurred:ec,generativeFill:ln};function rc(e){const{brightness:t,intensity:r}=e,n=dn.blurred();return n.brightness(t??Ua),n.intensity(r??Hr),n}function gr(e,t){const{gradientColors:r,gradientDirection:n,contrast:s,palette:o}=t;return s&&e.contrast(),o&&e.palette(...o),r&&e.gradientColors(+r),n&&e.gradientDirection(n),e}function mr(e,t){const{contrast:r,palette:n}=t;return r&&e.contrast(),n&&e.palette(...n),e}function nc(e,t){const{prompt:r}=t;return r&&e.prompt(r),e}function ic(e){const{backgroundType:t}=e;switch(t){case"auto":return sn();case"blurred":return rc(e);case"border":return mr(nn(),e);case"borderGradient":return gr(on(),e);case"predominant":return mr(cn(),e);case"predominantGradient":return gr(an(),e);case"generativeFill":return nc(ln(),e);default:return un(e.color)}}class sc extends ue{background(t){return this._actionModel.background=Za(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new m("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new m("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.background&&r.background(ic(t.background)),t.x&&r.offsetX(t.x),t.y&&r.offsetY(t.y),t.zoom&&r.zoom(t.zoom),r}}class oc extends ue{x(t){return this._actionModel.x=t,this.addQualifier(new m("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new m("y",t))}zoom(t){return this._actionModel.zoom=t,this.addQualifier(new m("z",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),t.zoom&&r.zoom(t.zoom),r}}class ac extends ue{x(t){return this._actionModel.x=t,this.addQualifier(new m("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new m("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function cc(e,t){return new oc("crop",e,t)}function uc(e,t){return new ac("fill",e,t)}function lc(e,t){return new sc("pad",e,t)}class dc extends Nr{constructor(t){super("q",t.toString(),"level")}chromaSubSampling(t){this._actionModel.chromaSubSampling=Vr[t];const r=new _([this._actionModel.level,t]);return r.setDelimiter(":"),this.addQualifier(new m("q",r))}quantization(t){this._actionModel.quantization=t;const r=new _([this._actionModel.level,`qmax_${t}`]).setDelimiter(":");return this.addQualifier(new m("q",r))}static fromJson(t){const{level:r,chromaSubSampling:n,quantization:s}=t,o=Pr[r]||r,c=new this(o);if(n){const d=Wo[n.toUpperCase()];d&&c.chromaSubSampling(+d)}return s&&c.quantization(s),c}}function St(e){return new Wt("f",e)}function Ot(e){return new dc(e)}function hc(){return new zr("north_east")}hr(70).color("black"),hr(40).color("white"),la(),ha();new K().effect(da()).delivery(Ot("auto")).delivery(St(tc()));new K().effect(fa()).delivery(Ot("auto")).delivery(St(he()));new K().effect(ua(2e3)).delivery(Ot("auto")).delivery(St(he()));new K().resize(lc("iw_div_2").aspectRatio(1).background(dn.auto())).resize(cc(1,1).gravity(Sa(hc()))).resize(uc().height("ih").width("iw")).delivery(Ot("auto")).delivery(St(he()));var yr={flv:"x-flv","3gp":"3gpp",mov:"quicktime",mpg:"mpeg",avi:"x-msvideo",wmv:"x-ms-wmv",ogv:"ogg",webm:"webm",mp4:"mp4"},vr="?_a=",fc=function(){function e(t,r,n,s,o,c,d){var f=this;this.mimeType="video",this.mimeSubTypes=yr,this.videoElement=t,this.originalVideo=r,this.videoOptions=d,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var h=B(r);wt(t,r,s,this.htmlPluginState).then(function(){f.htmlPluginState.pluginEventSubscription.forEach(function(g){g()}),f.setVideoAttributes(o,c),f.handleSourceToVideo(h,n)})}return e.prototype.handleSourceToVideo=function(t,r){var n=this;if(r)this.generateUserSources(t,r);else{var s=["webm","mp4","ogv"];s.forEach(function(o){n.appendSourceTag(B(t),o)})}},e.prototype.generateUserSources=function(t,r){var n=this;r.map(function(s){var o=s.type,c=s.codecs,d=s.transcode;return n.appendSourceTag(B(t).transcode(d),o,n.buildMimeType(o,c))})},e.prototype.appendSourceTag=function(t,r,n){var s,o=document.createElement("source"),c=(s=this.videoOptions)===null||s===void 0?void 0:s.useFetchFormat;c&&t.format(r);var d=t.toURL(),f=d.split(vr),h=f[1]?"".concat(vr).concat(f[1]):"",g=c?"":".".concat(r);o.src="".concat(f[0]).concat(g).concat(h),o.type=n||"video/".concat(yr[r]||r),this.videoElement.appendChild(o)},e.prototype.buildMimeType=function(t,r){var n="".concat(this.mimeType,"/").concat(this.mimeSubTypes[t]||t);return r&&(n+="; codecs="+(Array.isArray(r)?r.join(", "):r)),n},e.prototype.setVideoAttributes=function(t,r){var n;if(t===void 0&&(t={}),r==="auto"){var s=B(this.originalVideo);t.poster=s.quality("auto").format("jpg").addTransformation("so_auto").toURL()}else r&&(t.poster=(n=r.toURL)===null||n===void 0?void 0:n.call(r));for(var o=0,c=Object.entries(t);o<c.length;o++){var d=c[o],f=d[0],h=d[1];h&&this.videoElement.setAttribute(f,f==="poster"?h:"")}},e.prototype.update=function(t,r,n,s,o){var c=this;if(t!==this.originalVideo){for(var d=this.videoElement.getElementsByTagName("SOURCE");d[0];)d[0].parentNode.removeChild(d[0]);wt(this.videoElement,t,n,this.htmlPluginState).then(function(){c.setVideoAttributes(s,o),c.handleSourceToVideo(t,r),c.videoElement.load()})}},e}(),pc=typeof R=="object"&&R&&R.Object===Object&&R,gc=typeof self=="object"&&self&&self.Object===Object&&self;pc||gc||Function("return this")();function mc(){return typeof window<"u"}function yc(e,t,r){var n=B(t);if(e)for(var s=0;s<e.length;s++){var o=e[s](null,n);if(!o)break}return n.toURL(r?{trackedAnalytics:r}:null)}function xt(e){e.cleanupCallbacks.forEach(function(t){t()})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jt=function(e,t){return Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Jt(e,t)};function hn(e,t){Jt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var st=function(){return st=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},st.apply(this,arguments)};function fn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}var Qt={sdkSemver:"1.14.1",techVersion:J.version,sdkCode:"J"};(function(e){hn(t,e);function t(r){var n=e.call(this,r)||this;return n.imageRef=J.createRef(),n}return t.prototype.componentDidMount=function(){this.htmlLayerInstance=new Vo(this.imageRef.current,this.props.cldImg,this.props.plugins,Qt)},t.prototype.componentDidUpdate=function(){xt(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.update(this.props.cldImg,this.props.plugins,Qt)},t.prototype.componentWillUnmount=function(){xt(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.unmount()},t.prototype.render=function(){var r=this.props;r.cldImg,r.plugins;var n=fn(r,["cldImg","plugins"]);if(mc())return J.createElement("img",st({suppressHydrationWarning:!0},n,{ref:this.imageRef}));var s=yc(this.props.plugins,this.props.cldImg,Qt);return J.createElement("img",st({},n,{src:s}))},t})(J.Component);var vc=["controls","loop","muted","poster","preload","autoplay","playsinline"],_c=function(e){hn(t,e);function t(r){var n=e.call(this,r)||this;return n.videoRef=T.createRef(),n.attachRef=n.attachRef.bind(n),n}return t.prototype.componentDidMount=function(){this.htmlVideoLayerInstance=new fc(this.videoRef&&this.videoRef.current,this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster,{useFetchFormat:this.props.useFetchFormat})},t.prototype.componentDidUpdate=function(){xt(this.htmlVideoLayerInstance.htmlPluginState),this.htmlVideoLayerInstance.update(this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster)},t.prototype.componentWillUnmount=function(){xt(this.htmlVideoLayerInstance.htmlPluginState)},t.prototype.getVideoAttributes=function(){var r=this,n={};return vc.forEach(function(s){s in r.props&&(n[s]=r.props[s])}),n},t.prototype.attachRef=function(r){this.videoRef.current=r;var n=this.props.innerRef;n&&(n instanceof Function?n(r):n.current=r)},t.prototype.render=function(){var r=this.props;r.cldVid,r.cldPoster,r.plugins,r.sources,r.innerRef,r.useFetchFormat;var n=fn(r,["cldVid","cldPoster","plugins","sources","innerRef","useFetchFormat"]);return J.createElement("video",st({},n,{ref:this.attachRef}))},t}(T.Component);const wc="/api_mock/auctionkois/get-kois-by-keyword",xc=async()=>(await Ji.get(wc)).data.data,bc=()=>Wi({queryKey:["kois-in-auction"],queryFn:()=>xc()}),Ac=({onSearchStateChange:e})=>{const[t,r]=T.useState(""),[n,s]=T.useState(1),[o,c]=T.useState([]),{data:d,isLoading:f,error:h}=bc();T.useEffect(()=>{e(f)},[f,e]),T.useEffect(()=>{if(!t){c(d||[]);return}const C=d==null?void 0:d.filter(O=>O.name.toLowerCase().includes(t.toLowerCase())||O.description.toLowerCase().includes(t.toLowerCase()));c(C||[])},[d,t]);const g=12,w=o.length,y=Math.ceil(w/g),M=()=>{const C=(n-1)*g,O=C+g;return o.slice(C,O)},X=(C,O)=>{s(O)};if(f)return l.jsx(br,{});if(h)return l.jsx("p",{className:"text-red-500 mt-2",children:"Error when fetch koi in auction"});const at=M();return l.jsxs("div",{className:"container mx-auto p-4 mt-14",children:[l.jsxs("div",{className:"bg-gray-200 p-4 rounded-xl",children:[l.jsx(gt,{variant:"h5",sx:{textAlign:"left",marginBottom:"1rem"},children:Ye.SEARCH_ALL_OUR_AVAILABLE_KOI}),l.jsx(ts,{value:t,onChange:r,loading:f,placeholder:Ye.EXAMPLE_KOI_SEARCH}),l.jsx(gt,{variant:"body2",sx:{textAlign:"left",marginTop:"1rem"},color:"error",children:Yi.SEARCH_ALL_OUR_AVAILABLE_KOI_DESCRIPTION})]}),o.length>0&&l.jsxs("div",{className:"mt-3 text-gray-500",children:[l.jsxs(gt,{variant:"body2",className:"mt-3",children:["Showing ",Math.min((n-1)*g+1,w)," -"," ",Math.min(n*g,w)," of ",w," results."]}),l.jsx(Zi,{kois:at,getLinkUrl:C=>`/auctions/${C.auction_id}`}),y>1&&l.jsx(Xi,{totalPages:y,currentPage:n,onPageChange:X})]}),!f&&t&&o.length===0&&l.jsx(gt,{className:"mt-2",children:"No results found."})]})},_r=({text:e,hoverText:t,to:r,className:n=""})=>{const s=Ar(),o=()=>{s(r)};return l.jsxs("button",{onClick:o,className:`button ${n}`,children:[l.jsx("div",{className:"bg"}),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 342 208",height:"208",width:"342",className:"splash",children:[l.jsx("path",{strokeLinecap:"round",strokeWidth:"3",d:"M54.1054 99.7837C54.1054 99.7837 40.0984 90.7874 26.6893 97.6362C13.2802 104.485 1.5 97.6362 1.5 97.6362"}),l.jsx("path",{strokeLinecap:"round",strokeWidth:"3",d:"M285.273 99.7841C285.273 99.7841 299.28 90.7879 312.689 97.6367C326.098 104.486 340.105 95.4893 340.105 95.4893"}),l.jsx("path",{strokeLinecap:"round",strokeWidth:"3",strokeOpacity:"0.3",d:"M281.133 64.9917C281.133 64.9917 287.96 49.8089 302.934 48.2295C317.908 46.6501 319.712 36.5272 319.712 36.5272"}),l.jsx("path",{strokeLinecap:"round",strokeWidth:"3",strokeOpacity:"0.3",d:"M281.133 138.984C281.133 138.984 287.96 154.167 302.934 155.746C317.908 157.326 319.712 167.449 319.712 167.449"}),l.jsx("path",{strokeLinecap:"round",strokeWidth:"3",d:"M230.578 57.4476C230.578 57.4476 225.785 41.5051 236.061 30.4998C246.337 19.4945 244.686 12.9998 244.686 12.9998"}),l.jsx("path",{strokeLinecap:"round",strokeWidth:"3",d:"M230.578 150.528C230.578 150.528 225.785 166.471 236.061 177.476C246.337 188.481 244.686 194.976 244.686 194.976"}),l.jsx("path",{strokeLinecap:"round",strokeWidth:"3",strokeOpacity:"0.3",d:"M170.392 57.0278C170.392 57.0278 173.89 42.1322 169.571 29.54C165.252 16.9478 168.751 2.05227 168.751 2.05227"}),l.jsx("path",{strokeLinecap:"round",strokeWidth:"3",strokeOpacity:"0.3",d:"M170.392 150.948C170.392 150.948 173.89 165.844 169.571 178.436C165.252 191.028 168.751 205.924 168.751 205.924"}),l.jsx("path",{strokeLinecap:"round",strokeWidth:"3",d:"M112.609 57.4476C112.609 57.4476 117.401 41.5051 107.125 30.4998C96.8492 19.4945 98.5 12.9998 98.5 12.9998"}),l.jsx("path",{strokeLinecap:"round",strokeWidth:"3",d:"M112.609 150.528C112.609 150.528 117.401 166.471 107.125 177.476C96.8492 188.481 98.5 194.976 98.5 194.976"}),l.jsx("path",{strokeLinecap:"round",strokeWidth:"3",strokeOpacity:"0.3",d:"M62.2941 64.9917C62.2941 64.9917 55.4671 49.8089 40.4932 48.2295C25.5194 46.6501 23.7159 36.5272 23.7159 36.5272"}),l.jsx("path",{strokeLinecap:"round",strokeWidth:"3",strokeOpacity:"0.3",d:"M62.2941 145.984C62.2941 145.984 55.4671 161.167 40.4932 162.746C25.5194 164.326 23.7159 174.449 23.7159 174.449"})]}),l.jsxs("div",{className:"wrap",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 221 42",height:"42",width:"221",className:"path",children:l.jsx("path",{strokeLinecap:"round",strokeWidth:"3",d:"M182.674 2H203C211.837 2 219 9.16344 219 18V24C219 32.8366 211.837 40 203 40H18C9.16345 40 2 32.8366 2 24V18C2 9.16344 9.16344 2 18 2H47.8855"})}),l.jsx("div",{className:"outline"}),l.jsxs("div",{className:"content",children:[l.jsx("span",{className:"char state-1",children:e.split("").map((c,d)=>l.jsx("span",{"data-label":c,style:{"--i":d+1},children:c},d))}),l.jsx("div",{className:"icon",children:l.jsx("div",{})}),l.jsx("span",{className:"char state-2",children:t.split("").map((c,d)=>l.jsx("span",{"data-label":c,style:{"--i":d+1},children:c},d))})]})]})]})},Ut={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut"}}},qt={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}},hover:{scale:1.05,transition:{duration:.2,ease:"easeInOut"}}},Tc=new Ks({cloud:{cloudName:"dbke1s5nm"}}),Zc=()=>{const e=Ar(),{isLoggedIn:t}=Ki(),[r,n]=T.useState(!1),s=y=>{n(y)},{scrollYProgress:o}=Oo(),c=$o(o,[0,1],["0%","30%"]),{data:d,isLoading:f,error:h}=es(),g=y=>{e(`/breeder/${y}/info`)},w=Tc.video("background_dbkstv").quality("auto").format("auto");return f?l.jsx(br,{}):h?l.jsx("div",{children:"Error"}):l.jsxs("div",{children:[l.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[l.jsxs(E.div,{className:"absolute inset-0 z-0",style:{y:c},initial:!1,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900 via-gray-900/90 to-transparent z-10"}),l.jsx(_c,{cldVid:w,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"object-cover w-full h-full"})]}),l.jsx("div",{className:"relative z-20 container mx-auto px-4",children:l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 min-h-screen items-center",children:l.jsxs(E.div,{className:"pt-20 lg:pt-0",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.2}}},children:[l.jsx(E.h2,{variants:Ut,className:"text-red-600 text-2xl mb-4",children:"Welcome to Koi Auction"}),l.jsxs(E.h1,{variants:Ut,className:"text-4xl md:text-5xl font-bold text-white mb-6 leading-tight",children:["Your Direct Connection To The",l.jsx("br",{}),"Top"," ",l.jsx(E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1,duration:.5},className:"text-red-600",children:"Japanese"})," ","Koi Breeders"]}),l.jsx(E.p,{variants:Ut,className:"text-white mb-8",children:"We are always pioneering in applying information technology to auction activities."}),l.jsxs(E.div,{variants:qt,className:"flex flex-col sm:flex-row gap-4",children:[!t&&l.jsx(E.div,{whileHover:"hover",variants:qt,children:l.jsx(_r,{text:"Join Now",hoverText:"Join Now",to:"/auth",className:"w-[80%] sm:w-[80%] md:w-full lg:w-full"})}),l.jsx(E.div,{whileHover:"hover",variants:qt,children:l.jsx(_r,{text:"View Auction",hoverText:"Bid Now",to:"/auctions",className:"w-[80%] sm:w-[80%] md:w-full"})})]})]})})})]}),l.jsx(E.div,{transition:{duration:.6},className:"bg-white",children:l.jsx("div",{className:"container mx-auto",children:l.jsx(Ac,{onSearchStateChange:s})})}),l.jsx("div",{className:"py-4 px-4",children:l.jsxs("div",{className:"container mx-auto",children:[l.jsx("div",{className:"text-center mb-12",children:l.jsxs("h2",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-gray-900",children:[l.jsx("span",{className:"text-red-600",children:"→"}),"Our Partner Breeders",l.jsx("span",{className:"text-red-600",children:"←"})]})}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-4",children:d&&d.length>0&&d.map((y,M)=>l.jsxs("div",{className:"bg-gray-200 rounded-2xl shadow-md hover:shadow-lg transition-all duration-300 p-4 flex flex-col items-center justify-center cursor-pointer",onClick:()=>g(y.user_response.id),children:[l.jsx("img",{src:y.user_response.avatar_url,alt:`${y.user_response.first_name} logo`,className:"h-20 w-auto object-contain mb-2"}),l.jsx("p",{className:"text-center font-medium text-gray-700",children:y.user_response.first_name})]}))})]})}),l.jsx("div",{className:"py-8 px-4",children:l.jsxs("div",{className:"container mx-auto",children:[l.jsx("div",{className:"text-center mb-12",children:l.jsxs("h2",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-gray-900",children:[l.jsx("span",{className:"text-red-600",children:"→"}),"Latest News & Updates",l.jsx("span",{className:"text-red-600",children:"←"})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:rs(8).map((y,M)=>l.jsx(l.Fragment,{children:l.jsxs(Ke,{to:`/blog/${y.id}`,className:"group bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-all duration-300",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:y.image,alt:y.title,className:"w-full h-48 object-cover"}),l.jsx("div",{className:"absolute top-4 left-4 bg-red-600 text-white px-3 py-1 rounded-md text-sm",children:ns(y.date,"dd/MM/yyyy")})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2 line-clamp-2 group-hover:text-red-600 transition-colors",children:y.title}),l.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:y.excerpt})]})]})}))}),l.jsx("div",{className:"text-center mt-8",children:l.jsx(Ke,{to:"/blog",className:"bg-blue-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-blue-600 hover:underline transition-all duration-300 inline-block",children:"See more news"})})]})})]})};export{Zc as default};
