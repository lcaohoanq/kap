import{f as Z,c as Xt,r as _r,p as Fi,v as Di,i as wr,d as Bi,a as Qi,b as Ui,n as qi,s as zi,u as Zt,e as xr,g as T,w as Gi,m as at,M as Hi,h as Qt,R as tt,j as br,k as d,L as Ar,T as vt,S as Je,l as Wi,o as Ji,q as A,t as Ye}from"./index-AR-vc5G8.js";import{g as Yi}from"./blog.data-C9wF1Moh.js";import{P as Ki}from"./PaginationComponent-uQg9GVCj.js";import{K as Xi}from"./KoiSearchGrid-D9FA2PJ7.js";import{S as Zi}from"./SearchBar-UzJbn6Ei.js";import{u as Tr}from"./useKois-cKxmqMBC.js";import{u as ts}from"./useBreeders-C3BZ4vL6.js";import{f as es}from"./format-BOZTN9QO.js";import"./Box-BNjxVqqI.js";import"./index-Dh4_gD2h.js";import"./dataConverter-DUStkNR_.js";import"./dateTimeUtils-BcV6LRrk.js";import"./KoiDetails-bNB2c2Qv.js";import"./TextField-B9Z4Mbip.js";import"./Select-DxrLQvkV.js";import"./useFormControl-SUgb0ygc.js";function rs(e){return!(typeof e!="object"||e instanceof Array)}class ns{filterOutNonSupportedKeys(t,r){const n=Object.create({});return rs(t)?(Object.keys(t).forEach(s=>{r.indexOf(s)>=0?n[s]=t[s]:console.warn("Warning - unsupported key provided to configuration: ",s)}),n):Object.create({})}}const Ke=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class te extends ns{constructor(t){super();const r=this.filterOutNonSupportedKeys(t,Ke);Object.assign(this,{secure:!0},r)}extend(t){const r=this.filterOutNonSupportedKeys(t,Ke);return new te(Object.assign({},this,r))}setCname(t){return this.cname=t,this}setSecureDistribution(t){return this.secureDistribution=t,this}setPrivateCdn(t){return this.privateCdn=t,this}setSignUrl(t){return this.signUrl=t,this}setLongUrlSignature(t){return this.longUrlSignature=t,this}setShorten(t){return this.shorten=t,this}setUseRootPath(t){return this.useRootPath=t,this}setSecure(t){return this.secure=t,this}setForceVersion(t){return this.forceVersion=t,this}setQueryParams(t){return this.queryParams=t,this}}let ut=class{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}},is=class extends Error{constructor(t="Unsupported"){super(t)}};function ee(e){return new is(e)}function ss(){return this._qualifierModel||{error:ee(`unsupported qualifier ${this.constructor.name}`)}}let os=class{constructor(){this._qualifierModel={}}toJson(){return ss.apply(this)}},St=class extends os{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof ut?this.qualifierValue=r:(this.qualifierValue=new ut,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}},B=class extends St{constructor(t,r){let n;r?n=new ut([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}};function as(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function cs(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:ee(`unsupported action ${this.constructor.name}`)}}let us=class{constructor(){this._actionModel={}}toJson(){return cs.apply(this)}},re=class extends us{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),as(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new B(n)):this.qualifiers.set(r,new St(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new B(t)):t instanceof B&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}};function ls(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}let ds=class extends re{constructor(t){super(),this._actionModel={},this.addQualifier(new St("b",new ut(ls(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}},Xe=class{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:ee(`unsupported action ${this.constructor.name}`)}}};function hs(e){const t=e;return"error"in t&&!!t.error}function fs(){return new B("lossy")}function ps(){return new B("preserve_transparency")}function gs(e){return new B("progressive",e)}let ms=class extends ut{constructor(t){super(t),this.val=t}getValue(){return this.val}};function G(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const ys={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},vs={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},_s={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},ws={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},xs={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},bs={444:"CHROMA_444",420:"CHROMA_420"},As={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"};G(bs);G(As);G(ys);const Ts=G(vs);G(_s);G(ws);G(xs);let Ss=class extends re{constructor(t,r,n){super(),this._actionModel={};let s;r instanceof ms?s=r.getValue():s=r,this._actionModel.actionType=Ts[t],this._actionModel[n]=s,this.addQualifier(new St(t,r))}},Os=class extends B{constructor(t){super("progressive",t)}},xt=class extends Ss{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(fs()),this}progressive(t){return t instanceof Os?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(gs(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(ps()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let c;return r?c=new this("f",r):c=new this("f"),s&&(s.mode?c.progressive(s.mode):c.progressive()),n&&c.lossy(),o&&c.preserveTransparency(),c}},Sr=class Or{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new Xe(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof Or?this.actions=this.actions.concat(t.actions):this.actions.push(new Xe(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new xt("q",t)),this}format(t){return this.addAction(new xt("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new ds(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new re;let n=t;return typeof t=="string"&&(n=new B(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(hs(n))return n;t.push(n)}return{actions:t}}};class Cs extends Sr{}class Es extends Sr{}function js(e){return e.match(/^https?:\//)}function Ms(e){return e.indexOf("/")<0}function Ls(e){return e.match(/^v[0-9]+/)}function $s(e,t){const r=t.secure,n=t.privateCdn,s=t.cname,o=t.secureDistribution;return!r&&!s?`http://res.cloudinary.com/${e}`:r&&!o&&n?`https://${e}-res.cloudinary.com`:r&&!o?`https://res.cloudinary.com/${e}`:r&&o&&n?`https://${o}`:r&&o?`https://${o}/${e}`:!r&&s?`http://${s}/${e}`:"ERROR"}function Vs(e){return e||"image"}function Ps(e){return e||"upload"}function ks(e,t,r){const n=r!==!1;return t?`v${t}`:Ls(e)||js(e)||Ms(e)?"":n?"v1":""}function ne(e,t,r){let n=t>>0,s=String(r);return e.length>n?String(e):(n=n-e.length,n>s.length&&(s+=Rs(s,n/s.length)),s.slice(0,n)+String(e))}function Rs(e,t){let r=t,n="";for(;r>0;)n+=e,r--;return n}const Is="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bt={};let Ze=0;Is.split("").forEach(e=>{let t=Ze.toString(2);t=ne(t,6,"0"),bt[t]=e,Ze++});function Ns(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").reverse().join(".")}function Fs(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").map(t=>{const r=+t;if(isNaN(r)||r<0)throw"Invalid version number provided";return ne(t,2,"0")}).join(".")}function tr(e){let t="";const n=e.split(".").length*6,s=Ns(e),o=Fs(s);let l=parseInt(o.split(".").join("")).toString(2);if(l=ne(l,n,"0"),l.length%6!==0)throw"Version must be smaller than 43.21.26)";return l.match(/.{1,6}/g).forEach(f=>{t+=bt[f]}),t}function Ds(e){const t={sdkSemver:e.sdkSemver,techVersion:e.techVersion,sdkCode:e.sdkCode,product:e.product,feature:"0",osType:e.osType,osVersion:e.osVersion};return e.accessibility&&(t.feature="D"),e.lazyload&&(t.feature="C"),e.responsive&&(t.feature="A"),e.placeholder&&(t.feature="B"),t}const Bs="1.21.0";function Qs(e){const[t,r]=e.split("."),n=parseInt(t).toString(2),s=parseInt(r).toString(2),o=n.padStart(6,"0"),c=s.padStart(6,"0");return bt[o]+bt[c]}function Us(){const e="0.0.0";if(typeof window<"u")return e;try{return process.versions.node||e}catch{return e}}function qs(e){const t={techVersion:Us(),sdkCode:"T",sdkSemver:Bs.split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return e?Object.assign(Object.assign({},t),e):t}function er(e){const t=qs(e),r=Ds(t);try{const n=zs(r.techVersion),s=tr(r.sdkSemver),o=tr(n),c=Qs(r.osVersion),l=r.feature,f=r.sdkCode,{product:h,osType:p}=r;return`D${h}${f}${s}${o}${p}${c}${l}`}catch{return"E"}}function zs(e){const t=e.split(".");return`${t[0]}.${t[1]}`}const rr={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class Gs{constructor(t,r={},n){this.setPublicID(t),this.setCloudConfig(r),this.setURLConfig(n)}setURLConfig(t){return this.urlConfig=new te(t),this}setCloudConfig(t){return this.cloudName=t.cloudName,this.apiKey=t.apiKey,this.apiSecret=t.apiSecret,this.authToken=t.authToken,this}setPublicID(t){return this.publicID=t?t.toString():"",this}setDeliveryType(t){return this.deliveryType=t,this}setSuffix(t){return this.suffix=t,this}setSignature(t){return this.signature=t,this}setVersion(t){return t&&(this.version=t),this}setAssetType(t){return t&&(this.assetType=t),this}sign(){return this}toURL(t={}){return this.createCloudinaryURL(null,t.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const t=this.suffix&&this.suffix.indexOf(".")>=0,r=this.suffix&&this.suffix.indexOf("/")>=0;if(t||r)throw"`suffix`` should not include . or /"}getResourceType(){const t=Vs(this.assetType),r=Ps(this.deliveryType),n=!!this.suffix,s=`${t}/${r}`,o=rr[`${t}/${r}`],c=this.urlConfig.useRootPath,l=this.urlConfig.shorten;if(c){if(s==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${s} instead`)}if(l&&s==="image/upload")return"iu";if(n){if(o)return o;throw new Error(`URL Suffix only supported for ${Object.keys(rr).join(", ")}, Provided: ${s} instead`)}return s}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(t,r){if(!this.publicID)return"";this.validateAssetForURLCreation();const n=$s(this.cloudName,this.urlConfig),s=t?t.toString():"",o=ks(this.publicID,this.version,this.urlConfig.forceVersion),c=this.publicID;if(typeof t=="string")return[n,this.getResourceType(),this.getSignature(),s,o,c.replace(/,/g,"%2C"),this.suffix].filter(f=>f).join("/");{const l=[encodeURI(n),this.getResourceType(),this.getSignature(),encodeURI(s),o,encodeURI(c).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter(p=>p).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),f=this.urlConfig.analytics!==!1&&!c.includes("?");let h="";if(typeof this.urlConfig.queryParams=="object")try{const p=new URLSearchParams(this.urlConfig.queryParams);f&&p.set("_a",er(r)),h=p.toString()}catch{console.error("Error: URLSearchParams is not available so the queryParams object cannot be parsed, please try passing as an already parsed string")}else h=this.urlConfig.queryParams||"",f&&(h+=`${h.length>0?"&":""}_a=${er(r)}`);return h?`${l}?${h}`:l}}}class Cr extends Gs{constructor(t,r,n,s){super(t,r,n),this.transformation=s}animated(t){return this.transformation.animated(t),this}border(t){return this.transformation.border(t),this}reshape(t){return this.transformation.reshape(t),this}resize(t){return this.transformation.resize(t),this}quality(t){return this.addAction(new xt("q",t)),this}format(t){return this.addAction(new xt("f",t)),this}roundCorners(t){return this.transformation.roundCorners(t),this}overlay(t){return this.transformation.overlay(t),this}addVariable(t){return this.transformation.addVariable(t),this}conditional(t){return this.transformation.conditional(t),this}effect(t){return this.transformation.effect(t),this}adjust(t){return this.transformation.adjust(t),this}rotate(t){return this.transformation.rotate(t),this}namedTransformation(t){return this.transformation.namedTransformation(t),this}delivery(t){return this.transformation.delivery(t),this}backgroundColor(t){return this.transformation.backgroundColor(t),this}psdTools(t){return this.transformation.psdTools(t),this}extract(t){return this.transformation.extract(t),this}addFlag(t){return this.transformation.addFlag(t),this}customFunction(t){return this.transformation.customFunction(t),this}addAction(t){return this.transformation.addAction(t),this}addTransformation(t){return this.transformation.addTransformation(t),this}toString(){return this.transformation.toString()}underlay(t){return this.transformation.underlay(t),this}toURL(t={}){return this.createCloudinaryURL(this.transformation,t==null?void 0:t.trackedAnalytics)}}class Hs extends Cr{constructor(t,r,n){super(t,r,n,new Cs)}}class Ws extends Cr{constructor(t,r,n){super(t,r,n,new Es),this.assetType="video"}transcode(t){return this.transformation.transcode(t),this}videoEdit(t){return this.transformation.videoEdit(t),this}}class Js{constructor(t){t&&(this.cloudinaryConfig=t)}image(t){return new Hs(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(t){return new Ws(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(t){return this.cloudinaryConfig=t,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}function Er(e,t){let r;const n=()=>{const{currentTime:s}=t,c=(s===null?0:s.value)/100;r!==c&&e(c),r=c};return Z.update(n,!0),()=>Xt(n)}const _t=new WeakMap;let F;function Ys(e,t){if(t){const{inlineSize:r,blockSize:n}=t[0];return{width:r,height:n}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function Ks({target:e,contentRect:t,borderBoxSize:r}){var n;(n=_t.get(e))===null||n===void 0||n.forEach(s=>{s({target:e,contentSize:t,get size(){return Ys(e,r)}})})}function Xs(e){e.forEach(Ks)}function Zs(){typeof ResizeObserver>"u"||(F=new ResizeObserver(Xs))}function to(e,t){F||Zs();const r=_r(e);return r.forEach(n=>{let s=_t.get(n);s||(s=new Set,_t.set(n,s)),s.add(t),F==null||F.observe(n)}),()=>{r.forEach(n=>{const s=_t.get(n);s==null||s.delete(t),s!=null&&s.size||F==null||F.unobserve(n)})}}const wt=new Set;let ct;function eo(){ct=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};wt.forEach(r=>r(t))},window.addEventListener("resize",ct)}function ro(e){return wt.add(e),ct||eo(),()=>{wt.delete(e),!wt.size&&ct&&(ct=void 0)}}function no(e,t){return typeof e=="function"?ro(e):to(e,t)}const io=50,nr=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),so=()=>({time:0,x:nr(),y:nr()}),oo={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function ir(e,t,r,n){const s=r[t],{length:o,position:c}=oo[t],l=s.current,f=r.time;s.current=e[`scroll${c}`],s.scrollLength=e[`scroll${o}`]-e[`client${o}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Fi(0,s.scrollLength,s.current);const h=n-f;s.velocity=h>io?0:Di(s.current-l,h)}function ao(e,t,r){ir(e,"x",t,r),ir(e,"y",t,r),t.time=r}function co(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(n instanceof HTMLElement)r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const s=n.getBoundingClientRect();n=n.parentElement;const o=n.getBoundingClientRect();r.x+=s.left-o.left,r.y+=s.top-o.top}else if(n instanceof SVGGraphicsElement){const{x:s,y:o}=n.getBBox();r.x+=s,r.y+=o;let c=null,l=n.parentNode;for(;!c;)l.tagName==="svg"&&(c=l),l=n.parentNode;n=c}else break;return r}const Ht={start:0,center:.5,end:1};function sr(e,t,r=0){let n=0;if(e in Ht&&(e=Ht[e]),typeof e=="string"){const s=parseFloat(e);e.endsWith("px")?n=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?n=s/100*document.documentElement.clientWidth:e.endsWith("vh")?n=s/100*document.documentElement.clientHeight:e=s}return typeof e=="number"&&(n=t*e),r+n}const uo=[0,0];function lo(e,t,r,n){let s=Array.isArray(e)?e:uo,o=0,c=0;return typeof e=="number"?s=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e,Ht[e]?e:"0"]),o=sr(s[0],r,n),c=sr(s[1],t),o-c}const ho={All:[[0,0],[1,1]]},fo={x:0,y:0};function po(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function go(e,t,r){const{offset:n=ho.All}=r,{target:s=e,axis:o="y"}=r,c=o==="y"?"height":"width",l=s!==e?co(s,e):fo,f=s===e?{width:e.scrollWidth,height:e.scrollHeight}:po(s),h={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let p=!t[o].interpolate;const _=n.length;for(let v=0;v<_;v++){const $=lo(n[v],h[c],f[c],l[o]);!p&&$!==t[o].interpolatorOffsets[v]&&(p=!0),t[o].offset[v]=$}p&&(t[o].interpolate=wr(t[o].offset,Bi(n),{clamp:!1}),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=Qi(0,1,t[o].interpolate(t[o].current))}function mo(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function yo(e,t,r,n={}){return{measure:()=>mo(e,n.target,r),update:s=>{ao(e,r,s),(n.offset||n.target)&&go(e,r,n)},notify:()=>t(r)}}const ot=new WeakMap,or=new WeakMap,Ut=new WeakMap,ar=e=>e===document.documentElement?window:e;function ie(e,{container:t=document.documentElement,...r}={}){let n=Ut.get(t);n||(n=new Set,Ut.set(t,n));const s=so(),o=yo(t,e,s,r);if(n.add(o),!ot.has(t)){const l=()=>{for(const v of n)v.measure()},f=()=>{for(const v of n)v.update(Ui.timestamp)},h=()=>{for(const v of n)v.notify()},p=()=>{Z.read(l,!1,!0),Z.read(f,!1,!0),Z.update(h,!1,!0)};ot.set(t,p);const _=ar(t);window.addEventListener("resize",p,{passive:!0}),t!==document.documentElement&&or.set(t,no(t,p)),_.addEventListener("scroll",p,{passive:!0})}const c=ot.get(t);return Z.read(c,!1,!0),()=>{var l;Xt(c);const f=Ut.get(t);if(!f||(f.delete(o),f.size))return;const h=ot.get(t);ot.delete(t),h&&(ar(t).removeEventListener("scroll",h),(l=or.get(t))===null||l===void 0||l(),window.removeEventListener("resize",h))}}function vo({source:e,container:t,axis:r="y"}){e&&(t=e);const n={value:0},s=ie(o=>{n.value=o[r].progress*100},{container:t,axis:r});return{currentTime:n,cancel:s}}const qt=new Map;function jr({source:e,container:t=document.documentElement,axis:r="y"}={}){e&&(t=e),qt.has(t)||qt.set(t,{});const n=qt.get(t);return n[r]||(n[r]=zi()?new ScrollTimeline({source:t,axis:r}):vo({source:t,axis:r})),n[r]}function _o(e){return e.length===2}function Mr(e){return e&&(e.target||e.offset)}function wo(e,t){return _o(e)||Mr(t)?ie(r=>{e(r[t.axis].progress,r)},t):Er(e,jr(t))}function xo(e,t){if(e.flatten(),Mr(t))return e.pause(),ie(r=>{e.time=e.duration*r[t.axis].progress},t);{const r=jr(t);return e.attachTimeline?e.attachTimeline(r,n=>(n.pause(),Er(s=>{n.time=n.duration*s},r))):qi}}function bo(e,{axis:t="y",...r}={}){const n={axis:t,...r};return typeof e=="function"?wo(e,n):xo(e,n)}function cr(e,t){Gi(!!(!t||t.current))}const Ao=()=>({scrollX:at(0),scrollY:at(0),scrollXProgress:at(0),scrollYProgress:at(0)});function To({container:e,target:t,layoutEffect:r=!0,...n}={}){const s=Zt(Ao);return(r?xr:T.useEffect)(()=>(cr("target",t),cr("container",e),bo((c,{x:l,y:f})=>{s.scrollX.set(l.current),s.scrollXProgress.set(l.progress),s.scrollY.set(f.current),s.scrollYProgress.set(f.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(n.offset)]),s}function So(e){const t=Zt(()=>at(e)),{isStatic:r}=T.useContext(Hi);if(r){const[,n]=T.useState(e);T.useEffect(()=>t.on("change",n),[])}return t}function Lr(e,t){const r=So(t()),n=()=>r.set(t());return n(),xr(()=>{const s=()=>Z.preRender(n,!1,!0),o=e.map(c=>c.on("change",s));return()=>{o.forEach(c=>c()),Xt(n)}}),r}const Oo=e=>e&&typeof e=="object"&&e.mix,Co=e=>Oo(e)?e.mix:void 0;function Eo(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],s=e[1+r],o=e[2+r],c=e[3+r],l=wr(s,o,{mixer:Co(o[0]),...c});return t?l(n):l}function jo(e){Qt.current=[],e();const t=Lr(Qt.current,e);return Qt.current=void 0,t}function Mo(e,t,r,n){if(typeof e=="function")return jo(e);const s=typeof t=="function"?t:Eo(t,r,n);return Array.isArray(e)?ur(e,s):ur([e],([o])=>s(o))}function ur(e,t){const r=Zt(()=>[]);return Lr(e,()=>{r.length=0;const n=e.length;for(let s=0;s<n;s++)r[s]=e[s].get();return t(r)})}const Lo={some:0,all:1};function $o(e,t,{root:r,margin:n,amount:s="some"}={}){const o=_r(e),c=new WeakMap,l=h=>{h.forEach(p=>{const _=c.get(p.target);if(p.isIntersecting!==!!_)if(p.isIntersecting){const v=t(p);typeof v=="function"?c.set(p.target,v):f.unobserve(p.target)}else typeof _=="function"&&(_(p),c.delete(p.target))})},f=new IntersectionObserver(l,{root:r,rootMargin:n,threshold:typeof s=="number"?s:Lo[s]});return o.forEach(h=>f.observe(h)),()=>f.disconnect()}function zt(e,{root:t,margin:r,amount:n,once:s=!1}={}){const[o,c]=T.useState(!1);return T.useEffect(()=>{if(!e.current||s&&o)return;const l=()=>(c(!0),s?void 0:()=>c(!1)),f={root:t&&t.current||void 0,margin:r,amount:n};return $o(e.current,l,f)},[t,e,r,s,n]),o}var D=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},Wt={exports:{}};(function(e,t){var r=200,n="__lodash_hash_undefined__",s=9007199254740991,o="[object Arguments]",c="[object Array]",l="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Function]",_="[object GeneratorFunction]",v="[object Map]",$="[object Number]",M="[object Object]",L="[object Promise]",E="[object RegExp]",S="[object Set]",W="[object String]",Mt="[object Symbol]",nt="[object WeakMap]",x="[object ArrayBuffer]",P="[object DataView]",ge="[object Float32Array]",me="[object Float64Array]",ye="[object Int8Array]",ve="[object Int16Array]",_e="[object Int32Array]",we="[object Uint8Array]",xe="[object Uint8ClampedArray]",be="[object Uint16Array]",Ae="[object Uint32Array]",gn=/[\\^$.*+?()[\]{}|]/g,mn=/\w*$/,yn=/^\[object .+?Constructor\]$/,vn=/^(?:0|[1-9]\d*)$/,y={};y[o]=y[c]=y[x]=y[P]=y[l]=y[f]=y[ge]=y[me]=y[ye]=y[ve]=y[_e]=y[v]=y[$]=y[M]=y[E]=y[S]=y[W]=y[Mt]=y[we]=y[xe]=y[be]=y[Ae]=!0,y[h]=y[p]=y[nt]=!1;var _n=typeof D=="object"&&D&&D.Object===Object&&D,wn=typeof self=="object"&&self&&self.Object===Object&&self,k=_n||wn||Function("return this")(),Te=t&&!t.nodeType&&t,Se=Te&&!0&&e&&!e.nodeType&&e,xn=Se&&Se.exports===Te;function bn(i,a){return i.set(a[0],a[1]),i}function An(i,a){return i.add(a),i}function Tn(i,a){for(var u=-1,g=i?i.length:0;++u<g&&a(i[u],u,i)!==!1;);return i}function Sn(i,a){for(var u=-1,g=a.length,b=i.length;++u<g;)i[b+u]=a[u];return i}function Oe(i,a,u,g){for(var b=-1,O=i?i.length:0;++b<O;)u=a(u,i[b],b,i);return u}function On(i,a){for(var u=-1,g=Array(i);++u<i;)g[u]=a(u);return g}function Cn(i,a){return i==null?void 0:i[a]}function Ce(i){var a=!1;if(i!=null&&typeof i.toString!="function")try{a=!!(i+"")}catch{}return a}function Ee(i){var a=-1,u=Array(i.size);return i.forEach(function(g,b){u[++a]=[b,g]}),u}function Lt(i,a){return function(u){return i(a(u))}}function je(i){var a=-1,u=Array(i.size);return i.forEach(function(g){u[++a]=g}),u}var En=Array.prototype,jn=Function.prototype,ht=Object.prototype,$t=k["__core-js_shared__"],Me=function(){var i=/[^.]+$/.exec($t&&$t.keys&&$t.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Le=jn.toString,N=ht.hasOwnProperty,ft=ht.toString,Mn=RegExp("^"+Le.call(N).replace(gn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$e=xn?k.Buffer:void 0,Ve=k.Symbol,Pe=k.Uint8Array,Ln=Lt(Object.getPrototypeOf,Object),$n=Object.create,Vn=ht.propertyIsEnumerable,Pn=En.splice,ke=Object.getOwnPropertySymbols,kn=$e?$e.isBuffer:void 0,Rn=Lt(Object.keys,Object),Vt=K(k,"DataView"),it=K(k,"Map"),Pt=K(k,"Promise"),kt=K(k,"Set"),Rt=K(k,"WeakMap"),st=K(Object,"create"),In=q(Vt),Nn=q(it),Fn=q(Pt),Dn=q(kt),Bn=q(Rt),Re=Ve?Ve.prototype:void 0,Ie=Re?Re.valueOf:void 0;function Q(i){var a=-1,u=i?i.length:0;for(this.clear();++a<u;){var g=i[a];this.set(g[0],g[1])}}function Qn(){this.__data__=st?st(null):{}}function Un(i){return this.has(i)&&delete this.__data__[i]}function qn(i){var a=this.__data__;if(st){var u=a[i];return u===n?void 0:u}return N.call(a,i)?a[i]:void 0}function zn(i){var a=this.__data__;return st?a[i]!==void 0:N.call(a,i)}function Gn(i,a){var u=this.__data__;return u[i]=st&&a===void 0?n:a,this}Q.prototype.clear=Qn,Q.prototype.delete=Un,Q.prototype.get=qn,Q.prototype.has=zn,Q.prototype.set=Gn;function R(i){var a=-1,u=i?i.length:0;for(this.clear();++a<u;){var g=i[a];this.set(g[0],g[1])}}function Hn(){this.__data__=[]}function Wn(i){var a=this.__data__,u=pt(a,i);if(u<0)return!1;var g=a.length-1;return u==g?a.pop():Pn.call(a,u,1),!0}function Jn(i){var a=this.__data__,u=pt(a,i);return u<0?void 0:a[u][1]}function Yn(i){return pt(this.__data__,i)>-1}function Kn(i,a){var u=this.__data__,g=pt(u,i);return g<0?u.push([i,a]):u[g][1]=a,this}R.prototype.clear=Hn,R.prototype.delete=Wn,R.prototype.get=Jn,R.prototype.has=Yn,R.prototype.set=Kn;function J(i){var a=-1,u=i?i.length:0;for(this.clear();++a<u;){var g=i[a];this.set(g[0],g[1])}}function Xn(){this.__data__={hash:new Q,map:new(it||R),string:new Q}}function Zn(i){return gt(this,i).delete(i)}function ti(i){return gt(this,i).get(i)}function ei(i){return gt(this,i).has(i)}function ri(i,a){return gt(this,i).set(i,a),this}J.prototype.clear=Xn,J.prototype.delete=Zn,J.prototype.get=ti,J.prototype.has=ei,J.prototype.set=ri;function Y(i){this.__data__=new R(i)}function ni(){this.__data__=new R}function ii(i){return this.__data__.delete(i)}function si(i){return this.__data__.get(i)}function oi(i){return this.__data__.has(i)}function ai(i,a){var u=this.__data__;if(u instanceof R){var g=u.__data__;if(!it||g.length<r-1)return g.push([i,a]),this;u=this.__data__=new J(g)}return u.set(i,a),this}Y.prototype.clear=ni,Y.prototype.delete=ii,Y.prototype.get=si,Y.prototype.has=oi,Y.prototype.set=ai;function ci(i,a){var u=Ft(i)||$i(i)?On(i.length,String):[],g=u.length,b=!!g;for(var O in i)N.call(i,O)&&!(b&&(O=="length"||Ei(O,g)))&&u.push(O);return u}function Ne(i,a,u){var g=i[a];(!(N.call(i,a)&&Qe(g,u))||u===void 0&&!(a in i))&&(i[a]=u)}function pt(i,a){for(var u=i.length;u--;)if(Qe(i[u][0],a))return u;return-1}function ui(i,a){return i&&Fe(a,Dt(a),i)}function It(i,a,u,g,b,O,I){var C;if(g&&(C=O?g(i,b,O,I):g(i)),C!==void 0)return C;if(!mt(i))return i;var ze=Ft(i);if(ze){if(C=Si(i),!a)return bi(i,C)}else{var X=U(i),Ge=X==p||X==_;if(Pi(i))return gi(i,a);if(X==M||X==o||Ge&&!O){if(Ce(i))return O?i:{};if(C=Oi(Ge?{}:i),!a)return Ai(i,ui(C,i))}else{if(!y[X])return O?i:{};C=Ci(i,X,It,a)}}I||(I=new Y);var He=I.get(i);if(He)return He;if(I.set(i,C),!ze)var We=u?Ti(i):Dt(i);return Tn(We||i,function(Bt,yt){We&&(yt=Bt,Bt=i[yt]),Ne(C,yt,It(Bt,a,u,g,yt,i,I))}),C}function li(i){return mt(i)?$n(i):{}}function di(i,a,u){var g=a(i);return Ft(i)?g:Sn(g,u(i))}function hi(i){return ft.call(i)}function fi(i){if(!mt(i)||Mi(i))return!1;var a=qe(i)||Ce(i)?Mn:yn;return a.test(q(i))}function pi(i){if(!Be(i))return Rn(i);var a=[];for(var u in Object(i))N.call(i,u)&&u!="constructor"&&a.push(u);return a}function gi(i,a){if(a)return i.slice();var u=new i.constructor(i.length);return i.copy(u),u}function Nt(i){var a=new i.constructor(i.byteLength);return new Pe(a).set(new Pe(i)),a}function mi(i,a){var u=a?Nt(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.byteLength)}function yi(i,a,u){var g=a?u(Ee(i),!0):Ee(i);return Oe(g,bn,new i.constructor)}function vi(i){var a=new i.constructor(i.source,mn.exec(i));return a.lastIndex=i.lastIndex,a}function _i(i,a,u){var g=a?u(je(i),!0):je(i);return Oe(g,An,new i.constructor)}function wi(i){return Ie?Object(Ie.call(i)):{}}function xi(i,a){var u=a?Nt(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.length)}function bi(i,a){var u=-1,g=i.length;for(a||(a=Array(g));++u<g;)a[u]=i[u];return a}function Fe(i,a,u,g){u||(u={});for(var b=-1,O=a.length;++b<O;){var I=a[b],C=void 0;Ne(u,I,C===void 0?i[I]:C)}return u}function Ai(i,a){return Fe(i,De(i),a)}function Ti(i){return di(i,Dt,De)}function gt(i,a){var u=i.__data__;return ji(a)?u[typeof a=="string"?"string":"hash"]:u.map}function K(i,a){var u=Cn(i,a);return fi(u)?u:void 0}var De=ke?Lt(ke,Object):Ii,U=hi;(Vt&&U(new Vt(new ArrayBuffer(1)))!=P||it&&U(new it)!=v||Pt&&U(Pt.resolve())!=L||kt&&U(new kt)!=S||Rt&&U(new Rt)!=nt)&&(U=function(i){var a=ft.call(i),u=a==M?i.constructor:void 0,g=u?q(u):void 0;if(g)switch(g){case In:return P;case Nn:return v;case Fn:return L;case Dn:return S;case Bn:return nt}return a});function Si(i){var a=i.length,u=i.constructor(a);return a&&typeof i[0]=="string"&&N.call(i,"index")&&(u.index=i.index,u.input=i.input),u}function Oi(i){return typeof i.constructor=="function"&&!Be(i)?li(Ln(i)):{}}function Ci(i,a,u,g){var b=i.constructor;switch(a){case x:return Nt(i);case l:case f:return new b(+i);case P:return mi(i,g);case ge:case me:case ye:case ve:case _e:case we:case xe:case be:case Ae:return xi(i,g);case v:return yi(i,g,u);case $:case W:return new b(i);case E:return vi(i);case S:return _i(i,g,u);case Mt:return wi(i)}}function Ei(i,a){return a=a??s,!!a&&(typeof i=="number"||vn.test(i))&&i>-1&&i%1==0&&i<a}function ji(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function Mi(i){return!!Me&&Me in i}function Be(i){var a=i&&i.constructor,u=typeof a=="function"&&a.prototype||ht;return i===u}function q(i){if(i!=null){try{return Le.call(i)}catch{}try{return i+""}catch{}}return""}function Li(i){return It(i,!0,!0)}function Qe(i,a){return i===a||i!==i&&a!==a}function $i(i){return Vi(i)&&N.call(i,"callee")&&(!Vn.call(i,"callee")||ft.call(i)==o)}var Ft=Array.isArray;function Ue(i){return i!=null&&ki(i.length)&&!qe(i)}function Vi(i){return Ri(i)&&Ue(i)}var Pi=kn||Ni;function qe(i){var a=mt(i)?ft.call(i):"";return a==p||a==_}function ki(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=s}function mt(i){var a=typeof i;return!!i&&(a=="object"||a=="function")}function Ri(i){return!!i&&typeof i=="object"}function Dt(i){return Ue(i)?ci(i):pi(i)}function Ii(){return[]}function Ni(){return!1}e.exports=Li})(Wt,Wt.exports);var z=Wt.exports,Jt=function(){return Jt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Jt.apply(this,arguments)};function Vo(e,t,r,n){function s(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function l(p){try{h(n.next(p))}catch(_){c(_)}}function f(p){try{h(n.throw(p))}catch(_){c(_)}}function h(p){p.done?o(p.value):s(p.value).then(l,f)}h((n=n.apply(e,[])).next())})}function Po(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=l(0),c.throw=l(1),c.return=l(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(h){return function(p){return f([h,p])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(p){h=[6,p],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function At(e,t,r,n,s){return Vo(this,void 0,void 0,function(){var o,c;return Po(this,function(l){switch(l.label){case 0:if(r===void 0)return[2];c=0,l.label=1;case 1:return c<r.length?[4,r[c](e,t,n,s,r)]:[3,4];case 2:if(o=l.sent(),o==="canceled")return[3,4];l.label=3;case 3:return c++,[3,1];case 4:return o!=="canceled"?[2,o]:[2]}})})}var lr=function(e,t){return t===void 0&&(t={}),e?{trackedAnalytics:Jt({sdkCode:e.sdkCode,sdkSemver:e.sdkSemver,techVersion:e.techVersion},t)}:null},ko=function(){function e(t,r,n,s){var o=this;this.isMounted=!0,this.imgElement=t,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var c=z(r);At(t,c,n,this.htmlPluginState,s).then(function(l){if(o.isMounted){o.htmlPluginState.pluginEventSubscription.forEach(function(h){h()});var f=lr(s,l);o.imgElement.setAttribute("src",c.toURL(f))}})}return e.prototype.update=function(t,r,n){var s=this,o=z(t);At(this.imgElement,o,r,this.htmlPluginState).then(function(c){if(s.isMounted){var l=lr(n,c);s.imgElement.setAttribute("src",o.toURL(l))}})},e.prototype.unmount=function(){this.isMounted=!1},e}();class w{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}}class Ro extends Error{constructor(t="Unsupported"){super(t)}}function se(e){return new Ro(e)}function Io(){return this._qualifierModel||{error:se(`unsupported qualifier ${this.constructor.name}`)}}class No{constructor(){this._qualifierModel={}}toJson(){return Io.apply(this)}}class m extends No{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof w?this.qualifierValue=r:(this.qualifierValue=new w,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}}class j extends m{constructor(t,r){let n;r?n=new w([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}}function Fo(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function Do(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:se(`unsupported action ${this.constructor.name}`)}}class Bo{constructor(){this._actionModel={}}toJson(){return Do.apply(this)}}class V extends Bo{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),Fo(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new j(n)):this.qualifiers.set(r,new m(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new j(t)):t instanceof j&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}}class oe extends V{constructor(t){super(),this.regionType=t,this._actionModel.regionType=t}}class Ot extends oe{constructor(){super("custom")}x(t){return this._actionModel.x=t,this.addQualifier(new m("x",t)),this}y(t){return this._actionModel.y=t,this.addQualifier(new m("y",t)),this}width(t){return this._actionModel.width=t,this.addQualifier(new m("w",t)),this}height(t){return this._actionModel.height=t,this.addQualifier(new m("h",t)),this}static fromJson(t){const r=new Ot;return t.width&&r.width(t.width),t.height&&r.height(t.height),t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function Qo(){return new Ot}function $r(){return new oe("faces")}function Uo(){return new oe("ocr_text")}class qo extends V{constructor(t){super(),this._actionModel={},this._strength=t,this._actionModel.actionType="blur",this._actionModel.strength=t}region(t){return this._region=t,this._actionModel.region=t.toJson(),this}strength(t){return this._strength=t,this._actionModel.strength=t,this}prepareQualifiers(){const t=this._strength?`:${this._strength}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new m("e",`blur_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new m("e",`blur_region${t}`)),this.addQualifier(new m("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new m("e",`blur_faces${t}`))):this.addQualifier(new m("e",`blur${t}`))}static fromJson(t){const{strength:r,region:n}=t,s=new this(r);return r&&s.strength(r),n&&n.regionType==="faces"&&s.region($r()),n&&n.regionType==="ocr_text"&&s.region(Uo()),n&&n.regionType==="custom"&&s.region(Ot.fromJson(n)),s}}function H(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const Vr={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},zo={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},Pr={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},kr={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},Go={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},Rr={444:"CHROMA_444",420:"CHROMA_420"},Ho={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"},Wo=H(Rr);H(Ho);const Jo=H(Vr),Yo=H(zo),Ir=H(Pr);H(kr);H(Go);class Nr extends V{constructor(t,r){super(),this._actionModel={},this._actionModel.actionType=Ir[t]||t;const n=this.createEffectQualifier(t,r);this.addQualifier(n)}createEffectQualifier(t,r){let n;return r?n=new w([t,`${r}`]).setDelimiter(":"):n=new w(t),new m("e",n)}static fromJson(t){const{actionType:r,level:n,strength:s}=t,o=Pr[r]||r;return new this(o,n||s)}}class Ko extends Nr{constructor(t,r){super(t,r),this.LEVEL_NAME="level",this._actionModel={},this.effectType=t,this._actionModel.actionType=Ir[t]||t,r&&this.setLevel(r)}setLevel(t){this._actionModel[this.LEVEL_NAME]=t;const r=this.createEffectQualifier(this.effectType,t);return this.addQualifier(r),this}}function Ct(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class Xo extends V{constructor(){super(),this._actionModel={},this._actionModel.actionType="vectorize"}numOfColors(t){return this._actionModel.numOfColors=t,this._numOfColors=t,this}detailsLevel(t){return this._actionModel.detailLevel=t,this._detailsLevel=t,this}despeckleLevel(t){return this._actionModel.despeckleLevel=t,this._despeckleLevel=t,this}cornersLevel(t){return this._actionModel.cornersLevel=t,this._cornersLevel=t,this}paths(t){return this._actionModel.paths=t,this._paths=t,this}prepareQualifiers(){let t="vectorize";this._numOfColors&&(t+=`:${new w(`colors:${this._numOfColors}`).toString()}`),this._detailsLevel&&(t+=`:${new w(`detail:${this._detailsLevel}`).toString()}`),this._despeckleLevel&&(t+=`:${new w(`despeckle:${this._despeckleLevel}`).toString()}`),this._paths&&(t+=`:${new w(`paths:${this._paths}`).toString()}`),this._cornersLevel&&(t+=`:${new w(`corners:${this._cornersLevel}`).toString()}`),this.addQualifier(new m("e",t))}static fromJson(t){const{actionType:r,paths:n,cornersLevel:s,despeckleLevel:o,detailLevel:c,numOfColors:l}=t,f=new this;return n&&f.paths(n),s&&f.cornersLevel(s),o&&f.despeckleLevel(o),c&&f.detailsLevel(c),l&&f.numOfColors(l),f}}class Zo extends Ko{level(t){return this._actionModel.level=t,this.setLevel(t)}}class ta extends V{constructor(){super(),this._actionModel={},this._actionModel.actionType="assistColorblind",this.addQualifier(new m("e",new w("assist_colorblind")))}xray(){return this._actionModel.type="xray",this.addQualifier(new m("e",new w(["assist_colorblind","xray"]).setDelimiter(":")))}stripesStrength(t){return this._actionModel.type="stripes",this._actionModel.stripesStrength=t,this.addQualifier(new m("e",new w(["assist_colorblind",t]).setDelimiter(":")))}static fromJson(t){const{actionType:r,type:n,stripesStrength:s}=t,o=new this;return n==="xray"&&o.xray(),n==="stripes"&&s&&o.stripesStrength(s),o}}class ea extends Zo{color(t){return this._actionModel.color=t,this.addQualifier(new m("co",new w(Ct(t))))}static fromJson(t){const{actionType:r,level:n,color:s}=t,o=new this(r,n);return s&&o.color(s),o}}class ra extends V{constructor(t){super(),this._actionModel={},this._squareSize=t,this._actionModel.actionType="pixelate",this._actionModel.squareSize=t}region(t){return this._region=t,this._actionModel.region={regionType:this._region.regionType},this}squareSize(t){return this._squareSize=t,this._actionModel.squareSize=t,this}prepareQualifiers(){const t=this._squareSize?`:${this._squareSize}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="custom"&&this.addQualifier(new m("e",`pixelate_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new m("e",`pixelate_region${t}`)),this.addQualifier(new m("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new m("e",`pixelate_faces${t}`))):this.addQualifier(new m("e",`pixelate${t}`))}static fromJson(t){const{region:r,squareSize:n}=t,s=new this(n);return n&&s.squareSize(n),r&&r.regionType==="faces"&&s.region($r()),r&&r.regionType==="custom"&&s.region(Qo()),s}}const na=e=>ca(encodeURIComponent,oa,aa)(e),ia=/[!'()*~_.-]/g,sa={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A","~":"%7E",_:"%5F",".":"%2E","-":"%2D"},oa=e=>e.replace(ia,t=>{var r;return(r=sa[t])!==null&&r!==void 0?r:t}),aa=e=>e.replace(/%20/g," "),ca=(...e)=>t=>e.reduce((r,n)=>n(r),t);function ua(e){return new qo(e)}function la(){return new Nr("grayscale")}function dr(e){return new ea("colorize",e)}function da(){return new Xo}function ha(){return new ta}function fa(e){return new ra(e)}class pa extends V{constructor(t){super(),this._actionModel={},this.addQualifier(new m("b",new w(Ct(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}}class hr{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:se(`unsupported action ${this.constructor.name}`)}}}function ga(e){const t=e;return"error"in t&&!!t.error}function ma(){return new j("ignore_aspect_ratio")}function ya(){return new j("lossy")}function va(){return new j("preserve_transparency")}function _a(e){return new j("progressive",e)}function wa(){return new j("region_relative")}function xa(){return new j("relative")}class ae extends w{constructor(t){super(t),this.val=t}getValue(){return this.val}}class Fr extends V{constructor(t,r,n){super(),this._actionModel={};let s;r instanceof ae?s=r.getValue():s=r,this._actionModel.actionType=Yo[t],this._actionModel[n]=s,this.addQualifier(new m(t,r))}}class ba extends j{constructor(t){super("progressive",t)}}class Yt extends Fr{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(ya()),this}progressive(t){return t instanceof ba?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(_a(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(va()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let c;return r?c=new this("f",r):c=new this("f"),s&&(s.mode?c.progressive(s.mode):c.progressive()),n&&c.lossy(),o&&c.preserveTransparency(),c}}class rt{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new hr(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof rt?this.actions=this.actions.concat(t.actions):this.actions.push(new hr(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new Yt("q",t)),this}format(t){return this.addAction(new Yt("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new pa(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new V;let n=t;return typeof t=="string"&&(n=new j(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(ga(n))return n;t.push(n)}return{actions:t}}}function fr(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}class Aa extends w{}class Ta extends V{constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=Jo[t]||t,this.addQualifier(new m("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new m("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new m("w",t))}aspectRatio(t){if(t instanceof Aa)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new m("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=fr(t),this.addQualifier(new m("ar",fr(t)));if(t instanceof j)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(xa())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(wa())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:c,width:l,height:f}=n,h=Vr[r]||r,p=new this(h,l,f);return c&&p.aspectRatio(c==="ignore_aspect_ratio"?ma():c),s&&p.relative(),o&&p.regionRelative(),p}}class ce extends m{constructor(t){super("g",new w(t))}}class Dr extends ce{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}}class Br extends ce{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}}class Qr extends ce{constructor(t){super(t)}}function Sa(e){return new Qr(e)}function Ur(...e){const t=[...e];return new Br(t)}function qr(){return new Dr}class et extends w{constructor(t){super(),this.name=t}toString(){return this.name}}function Oa(){return new et("ocr_text")}function Ca(e){return e&&`${e}`.split(":")[0]==="auto"}function Ea(e){const t=ue(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function ue(e){return`${e}`.replace("g_","")}function ja(e){return{compass:ue(e),gravityType:"direction"}}function Ma(e){return ue(e)==="ocr_text"}function La(){return{gravityType:"ocr"}}function $a(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function Va(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function zr(e){let t;const r=e==="auto"?new Dr:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(Va)}}function Pa(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),c=qr().autoFocus(...o);s.fallbackGravity=zr(c)}return s}function ka(e){const r=e.split(":").map(n=>new et(n));return new Br(r)}function Ra(e){return Ea(e)?ja(e):Ma(e)?La():Ca(e)||$a(e)?zr(e):Pa(typeof e=="string"?ka(e):e)}class le extends w{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){const n=t instanceof et?t:new et(t);return new le(n,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}}class Gr extends w{constructor(t){super(),this.val=t}toString(){return this.val}}function Ia(e){return e.gravityType==="direction"}function Na(e){return e.gravityType==="ocr"}function Fa(e){return e.gravityType==="auto"}function Da(e){const{object:t,weight:r,avoid:n}=e,s=new le(new et(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function Hr(e){const r=(e.autoFocus||[]).map(Da);return qr().autoFocus(...r)}function Ba(e){const t=(e.focusOnObjects||[]).map(n=>new et(n)),r=Ur(...t);if(e.fallbackGravity){const n=Hr(e.fallbackGravity);r.fallbackGravity(n)}return r}function Qa(e){return Ia(e)?new Qr(new Gr(e.compass)):Na(e)?Ur(Oa()):Fa(e)?Hr(e):Ba(e)}class de extends Ta{gravity(t){this._actionModel.gravity=Ra(t);const r=typeof t=="string"?new m("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(Qa(t.gravity)),r}}class dt extends m{constructor(t){super("b"),t&&this.addValue(t)}}const Wr=100,Ua=0;class qa extends dt{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){const t=this.intensityLevel!==void 0?`:${this.intensityLevel}`:"",r=this.brightnessLevel!==void 0?this.intensityLevel!==void 0?`:${this.brightnessLevel}`:`:${Wr}:${this.brightnessLevel}`:"";return`b_blurred${t}${r}`}}var Jr=qa;class he extends dt{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map(r=>Ct(r)),this}}class Yr extends he{toString(){return`
    b_auto:border
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Kr extends he{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}}class Xr extends Kr{toString(){return`
    b_auto:border_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Zr extends Kr{toString(){return`
    b_auto:predominant_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class tn extends he{toString(){return`
    b_auto:predominant
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class en extends dt{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(t){try{this._prompt=decodeURIComponent(t)}catch{this._prompt=t}return this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return`b_gen_fill${this._prompt?`:prompt_${na(this._prompt)}`:""}`}}function rn(e){return`${e}`.replace("b_","")}function za(){return{backgroundType:"auto"}}function Ga(e){const{intensityLevel:t,brightnessLevel:r}=e,n={backgroundType:"blurred"};return(t||t===0)&&(n.intensity=t),(r||r===0)&&(n.brightness=r),n}function fe(e){const t=e._contrast,r=e._palette,n={backgroundType:""};return t&&(n.contrast=!0),r&&(n.palette=r),n}function Ha(e){return Object.assign(Object.assign({},fe(e)),{backgroundType:"border"})}function nn(e){const t=e._gradientColors,r=`${e._gradientDirection}`,n=fe(e);return t&&(n.gradientColors=t),r&&(n.gradientDirection=r),n}function Wa(e){return Object.assign(Object.assign({},nn(e)),{backgroundType:"borderGradient"})}function Ja(e){return{backgroundType:"color",color:rn(e)}}function Ya(e){return Object.assign(Object.assign({},fe(e)),{backgroundType:"predominant"})}function Ka(e){return Object.assign(Object.assign({},nn(e)),{backgroundType:"predominantGradient"})}function Xa(e){return Object.assign({backgroundType:e.getBackgroundType()},e.getPrompt()?{prompt:e.getPrompt()}:{})}function Za(e){return rn(e)==="auto"?za():e instanceof Jr?Ga(e):e instanceof Yr?Ha(e):e instanceof Xr?Wa(e):e instanceof tn?Ya(e):e instanceof Zr?Ka(e):e instanceof en?Xa(e):Ja(e)}function tc(){return new ae("svg")}function pe(){return new ae("auto")}function sn(){return new Yr}function on(){return new dt("auto")}function an(){return new Xr}function cn(){return new Zr}function un(){return new tn}function ln(e){return new dt(Ct(e))}function ec(){return new Jr}function dn(){return new en}const hn={auto:on,border:sn,borderGradient:an,predominantGradient:cn,predominant:un,color:ln,blurred:ec,generativeFill:dn};function rc(e){const{brightness:t,intensity:r}=e,n=hn.blurred();return n.brightness(t??Ua),n.intensity(r??Wr),n}function pr(e,t){const{gradientColors:r,gradientDirection:n,contrast:s,palette:o}=t;return s&&e.contrast(),o&&e.palette(...o),r&&e.gradientColors(+r),n&&e.gradientDirection(n),e}function gr(e,t){const{contrast:r,palette:n}=t;return r&&e.contrast(),n&&e.palette(...n),e}function nc(e,t){const{prompt:r}=t;return r&&e.prompt(r),e}function ic(e){const{backgroundType:t}=e;switch(t){case"auto":return on();case"blurred":return rc(e);case"border":return gr(sn(),e);case"borderGradient":return pr(an(),e);case"predominant":return gr(un(),e);case"predominantGradient":return pr(cn(),e);case"generativeFill":return nc(dn(),e);default:return ln(e.color)}}class sc extends de{background(t){return this._actionModel.background=Za(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new m("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new m("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.background&&r.background(ic(t.background)),t.x&&r.offsetX(t.x),t.y&&r.offsetY(t.y),t.zoom&&r.zoom(t.zoom),r}}class oc extends de{x(t){return this._actionModel.x=t,this.addQualifier(new m("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new m("y",t))}zoom(t){return this._actionModel.zoom=t,this.addQualifier(new m("z",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),t.zoom&&r.zoom(t.zoom),r}}class ac extends de{x(t){return this._actionModel.x=t,this.addQualifier(new m("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new m("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function cc(e,t){return new oc("crop",e,t)}function uc(e,t){return new ac("fill",e,t)}function lc(e,t){return new sc("pad",e,t)}class dc extends Fr{constructor(t){super("q",t.toString(),"level")}chromaSubSampling(t){this._actionModel.chromaSubSampling=Rr[t];const r=new w([this._actionModel.level,t]);return r.setDelimiter(":"),this.addQualifier(new m("q",r))}quantization(t){this._actionModel.quantization=t;const r=new w([this._actionModel.level,`qmax_${t}`]).setDelimiter(":");return this.addQualifier(new m("q",r))}static fromJson(t){const{level:r,chromaSubSampling:n,quantization:s}=t,o=kr[r]||r,c=new this(o);if(n){const l=Wo[n.toUpperCase()];l&&c.chromaSubSampling(+l)}return s&&c.quantization(s),c}}function Et(e){return new Yt("f",e)}function jt(e){return new dc(e)}function hc(){return new Gr("north_east")}dr(70).color("black"),dr(40).color("white"),la(),ha();new rt().effect(da()).delivery(jt("auto")).delivery(Et(tc()));new rt().effect(fa()).delivery(jt("auto")).delivery(Et(pe()));new rt().effect(ua(2e3)).delivery(jt("auto")).delivery(Et(pe()));new rt().resize(lc("iw_div_2").aspectRatio(1).background(hn.auto())).resize(cc(1,1).gravity(Sa(hc()))).resize(uc().height("ih").width("iw")).delivery(jt("auto")).delivery(Et(pe()));var mr={flv:"x-flv","3gp":"3gpp",mov:"quicktime",mpg:"mpeg",avi:"x-msvideo",wmv:"x-ms-wmv",ogv:"ogg",webm:"webm",mp4:"mp4"},yr="?_a=",fc=function(){function e(t,r,n,s,o,c,l){var f=this;this.mimeType="video",this.mimeSubTypes=mr,this.videoElement=t,this.originalVideo=r,this.videoOptions=l,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var h=z(r);At(t,r,s,this.htmlPluginState).then(function(){f.htmlPluginState.pluginEventSubscription.forEach(function(p){p()}),f.setVideoAttributes(o,c),f.handleSourceToVideo(h,n)})}return e.prototype.handleSourceToVideo=function(t,r){var n=this;if(r)this.generateUserSources(t,r);else{var s=["webm","mp4","ogv"];s.forEach(function(o){n.appendSourceTag(z(t),o)})}},e.prototype.generateUserSources=function(t,r){var n=this;r.map(function(s){var o=s.type,c=s.codecs,l=s.transcode;return n.appendSourceTag(z(t).transcode(l),o,n.buildMimeType(o,c))})},e.prototype.appendSourceTag=function(t,r,n){var s,o=document.createElement("source"),c=(s=this.videoOptions)===null||s===void 0?void 0:s.useFetchFormat;c&&t.format(r);var l=t.toURL(),f=l.split(yr),h=f[1]?"".concat(yr).concat(f[1]):"",p=c?"":".".concat(r);o.src="".concat(f[0]).concat(p).concat(h),o.type=n||"video/".concat(mr[r]||r),this.videoElement.appendChild(o)},e.prototype.buildMimeType=function(t,r){var n="".concat(this.mimeType,"/").concat(this.mimeSubTypes[t]||t);return r&&(n+="; codecs="+(Array.isArray(r)?r.join(", "):r)),n},e.prototype.setVideoAttributes=function(t,r){var n;if(t===void 0&&(t={}),r==="auto"){var s=z(this.originalVideo);t.poster=s.quality("auto").format("jpg").addTransformation("so_auto").toURL()}else r&&(t.poster=(n=r.toURL)===null||n===void 0?void 0:n.call(r));for(var o=0,c=Object.entries(t);o<c.length;o++){var l=c[o],f=l[0],h=l[1];h&&this.videoElement.setAttribute(f,f==="poster"?h:"")}},e.prototype.update=function(t,r,n,s,o){var c=this;if(t!==this.originalVideo){for(var l=this.videoElement.getElementsByTagName("SOURCE");l[0];)l[0].parentNode.removeChild(l[0]);At(this.videoElement,t,n,this.htmlPluginState).then(function(){c.setVideoAttributes(s,o),c.handleSourceToVideo(t,r),c.videoElement.load()})}},e}(),pc=typeof D=="object"&&D&&D.Object===Object&&D,gc=typeof self=="object"&&self&&self.Object===Object&&self;pc||gc||Function("return this")();function mc(){return typeof window<"u"}function yc(e,t,r){var n=z(t);if(e)for(var s=0;s<e.length;s++){var o=e[s](null,n);if(!o)break}return n.toURL(r?{trackedAnalytics:r}:null)}function Tt(e){e.cleanupCallbacks.forEach(function(t){t()})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kt=function(e,t){return Kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Kt(e,t)};function fn(e,t){Kt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var lt=function(){return lt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},lt.apply(this,arguments)};function pn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}var Gt={sdkSemver:"1.14.1",techVersion:tt.version,sdkCode:"J"};(function(e){fn(t,e);function t(r){var n=e.call(this,r)||this;return n.imageRef=tt.createRef(),n}return t.prototype.componentDidMount=function(){this.htmlLayerInstance=new ko(this.imageRef.current,this.props.cldImg,this.props.plugins,Gt)},t.prototype.componentDidUpdate=function(){Tt(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.update(this.props.cldImg,this.props.plugins,Gt)},t.prototype.componentWillUnmount=function(){Tt(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.unmount()},t.prototype.render=function(){var r=this.props;r.cldImg,r.plugins;var n=pn(r,["cldImg","plugins"]);if(mc())return tt.createElement("img",lt({suppressHydrationWarning:!0},n,{ref:this.imageRef}));var s=yc(this.props.plugins,this.props.cldImg,Gt);return tt.createElement("img",lt({},n,{src:s}))},t})(tt.Component);var vc=["controls","loop","muted","poster","preload","autoplay","playsinline"],_c=function(e){fn(t,e);function t(r){var n=e.call(this,r)||this;return n.videoRef=T.createRef(),n.attachRef=n.attachRef.bind(n),n}return t.prototype.componentDidMount=function(){this.htmlVideoLayerInstance=new fc(this.videoRef&&this.videoRef.current,this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster,{useFetchFormat:this.props.useFetchFormat})},t.prototype.componentDidUpdate=function(){Tt(this.htmlVideoLayerInstance.htmlPluginState),this.htmlVideoLayerInstance.update(this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster)},t.prototype.componentWillUnmount=function(){Tt(this.htmlVideoLayerInstance.htmlPluginState)},t.prototype.getVideoAttributes=function(){var r=this,n={};return vc.forEach(function(s){s in r.props&&(n[s]=r.props[s])}),n},t.prototype.attachRef=function(r){this.videoRef.current=r;var n=this.props.innerRef;n&&(n instanceof Function?n(r):n.current=r)},t.prototype.render=function(){var r=this.props;r.cldVid,r.cldPoster,r.plugins,r.sources,r.innerRef,r.useFetchFormat;var n=pn(r,["cldVid","cldPoster","plugins","sources","innerRef","useFetchFormat"]);return tt.createElement("video",lt({},n,{ref:this.attachRef}))},t}(T.Component);const vr=({text:e,hoverText:t,to:r,className:n=""})=>{const s=br(),o=()=>{s(r)};return d.jsxs("button",{onClick:o,className:`button ${n}`,children:[d.jsx("div",{className:"bg"}),d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 342 208",height:"208",width:"342",className:"splash",children:[d.jsx("path",{strokeLinecap:"round",strokeWidth:"3",d:"M54.1054 99.7837C54.1054 99.7837 40.0984 90.7874 26.6893 97.6362C13.2802 104.485 1.5 97.6362 1.5 97.6362"}),d.jsx("path",{strokeLinecap:"round",strokeWidth:"3",d:"M285.273 99.7841C285.273 99.7841 299.28 90.7879 312.689 97.6367C326.098 104.486 340.105 95.4893 340.105 95.4893"}),d.jsx("path",{strokeLinecap:"round",strokeWidth:"3",strokeOpacity:"0.3",d:"M281.133 64.9917C281.133 64.9917 287.96 49.8089 302.934 48.2295C317.908 46.6501 319.712 36.5272 319.712 36.5272"}),d.jsx("path",{strokeLinecap:"round",strokeWidth:"3",strokeOpacity:"0.3",d:"M281.133 138.984C281.133 138.984 287.96 154.167 302.934 155.746C317.908 157.326 319.712 167.449 319.712 167.449"}),d.jsx("path",{strokeLinecap:"round",strokeWidth:"3",d:"M230.578 57.4476C230.578 57.4476 225.785 41.5051 236.061 30.4998C246.337 19.4945 244.686 12.9998 244.686 12.9998"}),d.jsx("path",{strokeLinecap:"round",strokeWidth:"3",d:"M230.578 150.528C230.578 150.528 225.785 166.471 236.061 177.476C246.337 188.481 244.686 194.976 244.686 194.976"}),d.jsx("path",{strokeLinecap:"round",strokeWidth:"3",strokeOpacity:"0.3",d:"M170.392 57.0278C170.392 57.0278 173.89 42.1322 169.571 29.54C165.252 16.9478 168.751 2.05227 168.751 2.05227"}),d.jsx("path",{strokeLinecap:"round",strokeWidth:"3",strokeOpacity:"0.3",d:"M170.392 150.948C170.392 150.948 173.89 165.844 169.571 178.436C165.252 191.028 168.751 205.924 168.751 205.924"}),d.jsx("path",{strokeLinecap:"round",strokeWidth:"3",d:"M112.609 57.4476C112.609 57.4476 117.401 41.5051 107.125 30.4998C96.8492 19.4945 98.5 12.9998 98.5 12.9998"}),d.jsx("path",{strokeLinecap:"round",strokeWidth:"3",d:"M112.609 150.528C112.609 150.528 117.401 166.471 107.125 177.476C96.8492 188.481 98.5 194.976 98.5 194.976"}),d.jsx("path",{strokeLinecap:"round",strokeWidth:"3",strokeOpacity:"0.3",d:"M62.2941 64.9917C62.2941 64.9917 55.4671 49.8089 40.4932 48.2295C25.5194 46.6501 23.7159 36.5272 23.7159 36.5272"}),d.jsx("path",{strokeLinecap:"round",strokeWidth:"3",strokeOpacity:"0.3",d:"M62.2941 145.984C62.2941 145.984 55.4671 161.167 40.4932 162.746C25.5194 164.326 23.7159 174.449 23.7159 174.449"})]}),d.jsxs("div",{className:"wrap",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 221 42",height:"42",width:"221",className:"path",children:d.jsx("path",{strokeLinecap:"round",strokeWidth:"3",d:"M182.674 2H203C211.837 2 219 9.16344 219 18V24C219 32.8366 211.837 40 203 40H18C9.16345 40 2 32.8366 2 24V18C2 9.16344 9.16344 2 18 2H47.8855"})}),d.jsx("div",{className:"outline"}),d.jsxs("div",{className:"content",children:[d.jsx("span",{className:"char state-1",children:e.split("").map((c,l)=>d.jsx("span",{"data-label":c,style:{"--i":l+1},children:c},l))}),d.jsx("div",{className:"icon",children:d.jsx("div",{})}),d.jsx("span",{className:"char state-2",children:t.split("").map((c,l)=>d.jsx("span",{"data-label":c,style:{"--i":l+1},children:c},l))})]})]})]})},wc=({onSearchStateChange:e})=>{const[t,r]=T.useState(""),[n,s]=T.useState(1),[o,c]=T.useState([]),{data:l,isLoading:f,error:h}=Tr();T.useEffect(()=>{e(f)},[f,e]),T.useEffect(()=>{if(!(l!=null&&l.data))return;if(!t){c(l.data);return}const E=l.data.filter(S=>S.name.toLowerCase().includes(t.toLowerCase())||S.description.toLowerCase().includes(t.toLowerCase()));c(E)},[l,t]);const p=12,_=o.length,v=Math.ceil(_/p),$=()=>{const E=(n-1)*p,S=E+p;return o.slice(E,S)},M=(E,S)=>{s(S)};if(f)return d.jsx(Ar,{});if(h)return d.jsx("p",{className:"text-red-500 mt-2",children:"Error when fetch koi in auction"});const L=$();return d.jsxs("div",{className:"container mx-auto p-4 mt-14",children:[d.jsxs("div",{className:"bg-gray-200 p-4 rounded-xl",children:[d.jsx(vt,{variant:"h5",sx:{textAlign:"left",marginBottom:"1rem"},children:Je.SEARCH_ALL_OUR_AVAILABLE_KOI}),d.jsx(Zi,{value:t,onChange:r,loading:f,placeholder:Je.EXAMPLE_KOI_SEARCH}),d.jsx(vt,{variant:"body2",sx:{textAlign:"left",marginTop:"1rem"},color:"error",children:Wi.SEARCH_ALL_OUR_AVAILABLE_KOI_DESCRIPTION})]}),o.length>0&&d.jsxs("div",{className:"mt-3 text-gray-500",children:[d.jsxs(vt,{variant:"body2",className:"mt-3",children:["Showing ",Math.min((n-1)*p+1,_)," -"," ",Math.min(n*p,_)," of ",_," results."]}),d.jsx(Xi,{kois:L,getLinkUrl:E=>`/auctions/${E.auction_id}`}),v>1&&d.jsx(Ki,{totalPages:v,currentPage:n,onPageChange:M})]}),!f&&t&&o.length===0&&d.jsx(vt,{className:"mt-2",children:"No results found."})]})},xc=()=>{const[e,t]=T.useState(!1),r=n=>{t(n)};return d.jsx(wc,{onSearchStateChange:r})},Kc=()=>{const e=br(),{isLoggedIn:t}=Ji(),{data:r,isLoading:n,error:s}=Tr(),{scrollYProgress:o}=To(),c=Mo(o,[0,1],["0%","30%"]),{data:l,isLoading:f,error:h}=ts(),p=T.useRef(null),_=T.useRef(null),v=T.useRef(null),$=zt(p,{once:!0,margin:"-100px"}),M=zt(_,{once:!0,margin:"-100px"}),L=zt(v,{once:!0,margin:"-100px"}),E=x=>{e(`/breeder/${x}/info`)},S={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut"}}},W={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}},hover:{scale:1.05,transition:{duration:.2,ease:"easeInOut"}}},nt=new Js({cloud:{cloudName:"dbke1s5nm"}}).video("background_dbkstv").quality("auto").format("auto");return f?d.jsx(Ar,{}):h?d.jsx("div",{children:"Error"}):d.jsxs("div",{children:[d.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[d.jsxs(A.div,{className:"absolute inset-0 z-0",style:{y:c},initial:!1,children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900 via-gray-900/90 to-transparent z-10"}),d.jsx(_c,{cldVid:nt,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"object-cover w-full h-full"})]}),d.jsx("div",{className:"relative z-20 container mx-auto px-4",children:d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 min-h-screen items-center",children:d.jsxs(A.div,{className:"pt-20 lg:pt-0",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.2}}},children:[d.jsx(A.h2,{variants:S,className:"text-red-600 text-2xl mb-4",children:"Welcome to Koi Auction"}),d.jsxs(A.h1,{variants:S,className:"text-4xl md:text-5xl font-bold text-white mb-6 leading-tight",children:["Your Direct Connection To The",d.jsx("br",{}),"Top"," ",d.jsx(A.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1,duration:.5},className:"text-red-600",children:"Japanese"})," ","Koi Breeders"]}),d.jsx(A.p,{variants:S,className:"text-white mb-8",children:"We are always pioneering in applying information technology to auction activities."}),d.jsxs(A.div,{variants:W,className:"flex flex-col sm:flex-row gap-4",children:[!t&&d.jsx(A.div,{whileHover:"hover",variants:W,children:d.jsx(vr,{text:"Join Now",hoverText:"Join Now",to:"/auth",className:"w-[80%] sm:w-[80%] md:w-full lg:w-full"})}),d.jsx(A.div,{whileHover:"hover",variants:W,children:d.jsx(vr,{text:"View Auction",hoverText:"Bid Now",to:"/auctions",className:"w-[80%] sm:w-[80%] md:w-full"})})]})]})})})]}),d.jsx(A.div,{ref:p,initial:{opacity:0,y:50},animate:{opacity:$?1:0,y:$?0:50},transition:{duration:.6},className:"bg-white",children:d.jsx("div",{className:"container mx-auto",children:d.jsx(xc,{})})}),d.jsx(A.div,{ref:_,initial:{opacity:0,y:50},animate:{opacity:M?1:0,y:M?0:50},transition:{duration:.6},className:"py-4 px-4",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsx("div",{className:"text-center mb-12",children:d.jsxs("h2",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-gray-900",children:[d.jsx("span",{className:"text-red-600",children:"→"}),"Our Partner Breeders",d.jsx("span",{className:"text-red-600",children:"←"})]})}),d.jsx(A.div,{initial:{opacity:0},animate:{opacity:M?1:0},transition:{duration:.6,delay:.3},className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-4",children:l&&l.length>0&&l.map((x,P)=>d.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:M?1:0,y:M?0:20},transition:{duration:.5,delay:P*.1},className:"bg-gray-200 rounded-2xl shadow-md hover:shadow-lg transition-all duration-300 p-4 flex flex-col items-center justify-center cursor-pointer",onClick:()=>E(x.user_response.id),children:[d.jsx("img",{src:x.user_response.avatar_url,alt:`${x.user_response.first_name} logo`,className:"h-20 w-auto object-contain mb-2"}),d.jsx("p",{className:"text-center font-medium text-gray-700",children:x.user_response.first_name})]},`${x.user_response.id}-${P}`))})]})}),d.jsx(A.div,{ref:v,initial:{opacity:0,y:50},animate:{opacity:L?1:0,y:L?0:50},transition:{duration:.6},className:"py-8 px-4",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsx("div",{className:"text-center mb-12",children:d.jsxs("h2",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-gray-900",children:[d.jsx("span",{className:"text-red-600",children:"→"}),"Latest News & Updates",d.jsx("span",{className:"text-red-600",children:"←"})]})}),d.jsx(A.div,{initial:{opacity:0},animate:{opacity:L?1:0},transition:{duration:.6,delay:.3},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Yi(8).map((x,P)=>d.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:L?1:0,y:L?0:20},transition:{duration:.5,delay:P*.1},children:d.jsxs(Ye,{to:`/blog/${x.id}`,className:"group bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-all duration-300",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:x.image,alt:x.title,className:"w-full h-48 object-cover"}),d.jsx("div",{className:"absolute top-4 left-4 bg-red-600 text-white px-3 py-1 rounded-md text-sm",children:es(x.date,"dd/MM/yyyy")})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2 line-clamp-2 group-hover:text-red-600 transition-colors",children:x.title}),d.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:x.excerpt})]})]})},x.id))}),d.jsx(A.div,{initial:{opacity:0},animate:{opacity:L?1:0},transition:{duration:.5,delay:.8},className:"text-center mt-8",children:d.jsx(Ye,{to:"/blog",className:"bg-blue-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-blue-600 hover:underline transition-all duration-300 inline-block",children:"See more news"})})]})})]})};export{Kc as default};
