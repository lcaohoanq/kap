import{g as i,k as t,L as I,T as d,S as x,l as S}from"./index-AR-vc5G8.js";import{u as _}from"./useKois-cKxmqMBC.js";import{S as j}from"./SearchBar-UzJbn6Ei.js";import{K as P}from"./KoiSearchGrid-D9FA2PJ7.js";import{P as R}from"./PaginationComponent-uQg9GVCj.js";import"./TextField-B9Z4Mbip.js";import"./Select-DxrLQvkV.js";import"./useFormControl-SUgb0ygc.js";import"./index-Dh4_gD2h.js";import"./useBreeders-C3BZ4vL6.js";import"./dataConverter-DUStkNR_.js";import"./dateTimeUtils-BcV6LRrk.js";import"./format-BOZTN9QO.js";import"./KoiDetails-bNB2c2Qv.js";import"./Box-BNjxVqqI.js";const q=({onSearchStateChange:u})=>{const[r,h]=i.useState(""),[c,f]=i.useState(1),[m,p]=i.useState([]),{data:s,isLoading:n,error:A}=_();i.useEffect(()=>{u(n)},[n,u]),i.useEffect(()=>{if(!(s!=null&&s.data))return;if(!r){p(s.data);return}const e=s.data.filter(o=>o.name.toLowerCase().includes(r.toLowerCase())||o.description.toLowerCase().includes(r.toLowerCase()));p(e)},[s,r]);const a=12,l=m.length,g=Math.ceil(l/a),L=()=>{const e=(c-1)*a,o=e+a;return m.slice(e,o)},C=(e,o)=>{f(o)};if(n)return t.jsx(I,{});if(A)return t.jsx("p",{className:"text-red-500 mt-2",children:"Error when fetch koi in auction"});const E=L();return t.jsxs("div",{className:"container mx-auto p-4 mt-14",children:[t.jsxs("div",{className:"bg-gray-200 p-4 rounded-xl",children:[t.jsx(d,{variant:"h5",sx:{textAlign:"left",marginBottom:"1rem"},children:x.SEARCH_ALL_OUR_AVAILABLE_KOI}),t.jsx(j,{value:r,onChange:h,loading:n,placeholder:x.EXAMPLE_KOI_SEARCH}),t.jsx(d,{variant:"body2",sx:{textAlign:"left",marginTop:"1rem"},color:"error",children:S.SEARCH_ALL_OUR_AVAILABLE_KOI_DESCRIPTION})]}),m.length>0&&t.jsxs("div",{className:"mt-3 text-gray-500",children:[t.jsxs(d,{variant:"body2",className:"mt-3",children:["Showing ",Math.min((c-1)*a+1,l)," -"," ",Math.min(c*a,l)," of ",l," results."]}),t.jsx(P,{kois:E,getLinkUrl:e=>`/auctions/${e.auction_id}`}),g>1&&t.jsx(R,{totalPages:g,currentPage:c,onPageChange:C})]}),!n&&r&&m.length===0&&t.jsx(d,{className:"mt-2",children:"No results found."})]})};export{q as default};
