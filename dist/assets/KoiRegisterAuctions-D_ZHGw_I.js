import{l as t,T as i,S,o as E,g as o,L as T,a1 as _,aS as v}from"./index-CZBwRkMB.js";import{g as y}from"./auction.apis-CoEy0JAj.js";import{S as I}from"./index-1FA6hMXZ.js";import{c as R}from"./useSearch-CLXYnf_S.js";import{a as U,b as L}from"./AuctionCart-CMPv1jcN.js";import{P as O}from"./PaginationComponent-6LQ412tG.js";import{S as P}from"./SearchBar-Z1scFhvT.js";import{g as H}from"./dateTimeUtils-BcV6LRrk.js";import"./environment-BzuYHCkO.js";import"./Select-Brq7J5Hy.js";import"./useFormControl-DCod055n.js";import"./CrudButtonComponent-DO3oJB3V.js";import"./Box-C_9pThu7.js";import"./TextField-CYZD3Swe.js";import"./format-BOZTN9QO.js";const M=()=>{const{query:e,setQuery:r,results:n,loading:s,error:c,page:l,totalPages:m,totalItems:u,handlePageChange:d}=R(500);return t.jsxs("div",{className:"container mx-auto p-4 mt-14",children:[t.jsxs("div",{className:"bg-gray-200 p-4 rounded-xl",children:[t.jsx(i,{variant:"h5",sx:{textAlign:"left",marginBottom:"1rem"},children:S.SEARCH_ALL_OUR_UPCOMING_AUCTION}),t.jsx(P,{value:e,onChange:r,loading:s,placeholder:S.EXAMPLE_AUCTION_SEARCH}),t.jsx(i,{variant:"body2",sx:{textAlign:"left",marginTop:"1rem"},color:"error",children:E.SEARCH_ALL_OUR_AUCTION_DESCRIPTION})]}),s&&t.jsx("p",{className:"mt-2",children:"Searching..."}),c&&t.jsx("p",{className:"text-red-500 mt-2",children:c.message}),n.length>0&&!s&&t.jsxs("div",{className:"mt-3 text-gray-500",children:[t.jsxs(i,{variant:"body2",className:"mt-3",children:["Showing 1 - ",n.length," of ",u," results."]}),t.jsx(U,{items:n}),t.jsx(O,{totalPages:m,currentPage:l,onPageChange:d}),t.jsx(I,{smooth:!0})]}),!s&&e&&n.length===0&&t.jsx("p",{className:"mt-2",children:"No results found."})]})},b=({fetchAuctionsData:e,cartComponent:r,emptyMessage:n,itemsPerPage:s=100})=>{const[c,l]=o.useState([]),[m,u]=o.useState(1),[d,A]=o.useState(!0),[C,h]=o.useState(!0),[p,f]=o.useState(null),[a,j]=o.useState(!1);o.useEffect(()=>{(async()=>{if(!a){h(!0),f(null);try{const g=await e(m-1,s);l(g),A(g.length===s)}catch(g){console.error(_.FAILED_TO_FETCH_AUCTIONS,g),l([])}finally{h(!1)}}})()},[m,e,s,a]);const N=x=>{j(x)};return C&&!a?t.jsx("div",{className:"flex justify-center items-center h-screen",children:t.jsx(T,{})}):p&&!a?t.jsx(i,{variant:"h5",sx:{marginTop:"10rem",marginBottom:"10rem",color:"error.main",fontWeight:"bold",textAlign:"center"},children:p}):t.jsx("div",{className:"container mx-auto",children:!a&&t.jsx(t.Fragment,{children:c.length===0?t.jsx("div",{className:"flex flex-col justify-center items-center h-[30rem]",children:t.jsx(i,{variant:"h3",sx:{color:"error.main",fontWeight:"bold",textAlign:"center"},children:n})}):t.jsx(t.Fragment,{children:t.jsx(M,{onSearchStateChange:N})})})})},B=({items:e})=>t.jsx("div",{className:"koi-container grid grid-cols-1 gap-3 p-5 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-3",children:e.map(r=>t.jsx(L,{auction:r,link:`/auctions/register/${r.id}`,getStatus:H},r.id))}),Z=()=>t.jsx(b,{fetchAuctionsData:(e,r)=>y(e,r,v.UPCOMING),cartComponent:B,emptyMessage:"No upcoming auctions found"});export{Z as default};
