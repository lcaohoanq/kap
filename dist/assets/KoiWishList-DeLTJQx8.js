import{aj as g,g as t,t as K,q as S,k as I,a2 as C,l as e,L,T as l,y as P,a5 as b,aB as E,aC as T}from"./index-D5S7yFe7.js";import{K as j}from"./KoiDetails-CfUXS_ks.js";import{k as p}from"./koibreeders-C8vjzIiM.js";import{g as B}from"./dataConverter-CpEqXCMb.js";import"./dateTimeUtils-BcV6LRrk.js";import"./format-BOZTN9QO.js";const q=()=>{const o=g("user_id"),r=g("access_token"),[n,v]=t.useState([]),[y,N]=t.useState(0),[d,D]=t.useState(1),[F,w]=t.useState(!0),m=16,[_,c]=t.useState(!0),[x,f]=t.useState(null),{isLoggedIn:h}=K();S();const[M,R]=t.useState(!1),u=t.useCallback(async()=>{if(!r){f("No access token available"),c(!1);return}try{c(!0);const a=(await I.get(`${C}/breeders/kois/status`,{params:{breeder_id:o,status:"UNVERIFIED",page:d-1,limit:m},headers:{Authorization:`Bearer ${r}`}})).data;a&&(v(a.item),N(a.total_item),w(a.total_page>d))}catch(s){console.error("Cannot fetch Koi data:",s),f("Failed to fetch your verify Koi data")}finally{c(!1)}},[r,d,m]);return t.useEffect(()=>{h&&o&&r&&u()},[h,o,r,u]),_?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(L,{})}):x?e.jsxs("div",{children:["Error: ",x]}):e.jsx("div",{children:n.length>0&&o?e.jsxs("div",{className:"ml-16 mr-16 mb-16",children:[e.jsx(l,{variant:"h4",className:"text-center",children:"Your Kois is waiting to Verified"}),e.jsx(l,{variant:"body1",className:"text-center text-gray-500",sx:{marginTop:"15px"},children:"*Note: Please wait until your koi is verified by our team. We will send result email back, thanks for your patience. From Koi Auction Team."}),e.jsxs(l,{variant:"body2",className:"text-left",children:["Showing 1 - ",n.length," of ",y," results."]}),e.jsx("div",{className:"mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:n.map(s=>{var a;return e.jsxs("div",{className:"transform overflow-hidden m-1 md:m-5 rounded-[1.5rem] bg-white shadow-md transition-transform hover:scale-102",children:[e.jsx("div",{className:"flex justify-end bg-gray-200"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"relative flex md:justify-center bg-gradient-to-r from-[#1365b4] to-[#1584cb] duration-300 ease-in-out",children:[e.jsx(P,{to:`/kois/${s.id}`,className:"relative flex md:justify-center bg-gradient-to-r from-[#1365b4] to-[#1584cb] duration-300 ease-in-out",children:e.jsx("div",{className:"h-[17rem] w-[50%] md:h-[28rem] md:w-[23rem] flex justify-center",children:e.jsx("div",{className:"absolute w-[30%] h-[60%] top-1/2 left-1/4 -translate-x-1/2 -translate-y-1/2 md:w-[60%] md:h-[90%] md:top-1/2 md:left-1/2",children:e.jsx("img",{src:s.thumbnail,alt:s.name,className:"h-full w-full drop-shadow-[9px_-9px_6px_rgba(0,0,0,0.2)] duration-500 hover:drop-shadow-[9px_-9px_6px_rgba(0,0,0,0.35)] opacity-100"})})})}),e.jsx("div",{className:"absolute top-3 left-3 bg-opacity-50 text-white rounded-full p-3 text-lg flex items-center",children:p.find(i=>i.id===s.owner_id)&&e.jsx("img",{src:(a=p.find(i=>i.id===s.owner_id))==null?void 0:a.avatar_url,alt:"Breeder Avatar",className:"w-[25%]"})}),e.jsxs("div",{className:"absolute bottom-9 left-2 md:bottom-2 md:left-3 text-white rounded-full p-1 text-md font-bold",children:[e.jsx(b,{icon:E,className:"mr-1"}),s.id]}),e.jsx("div",{className:"sm:hidden bg-gray-300 rounded-xl m-3 p-2 text-md font-bold w-1/2",children:e.jsx(j,{category:B(s.category_id),sex:s.sex,length:s.length,year_born:s.year_born})}),e.jsx("div",{className:"absolute bottom-2 left-2 sm:left-auto sm:right-2 text-white rounded-full p-1 text-md font-bold",children:[...Array(5)].map((i,A)=>e.jsx(b,{icon:T,className:"mr-1"},A))})]}),e.jsxs("div",{className:"p-4 bg-gray-300 sm:flex sm:flex-col",children:[e.jsx("h2",{className:"text-xl mt-1 mb-1 text-black font-semibold",children:s.name}),e.jsx("div",{className:"hidden sm:flex flex-col sm:flex-row",children:e.jsx("hr",{className:"w-full border-t border-gray-400 my-2"})}),e.jsx("div",{className:"hidden sm:block",children:e.jsx(j,{category:s.category_id.toString(),sex:s.sex,length:s.length,year_born:s.year_born})})]})]})]},s.id)})})]}):e.jsx("div",{className:"flex flex-col justify-center items-center h-[30rem]",children:e.jsx(l,{variant:"h3",sx:{color:"error.main",fontWeight:"bold",textAlign:"center"},children:"Koi's Unverified Not Available"})})})};export{q as default};
