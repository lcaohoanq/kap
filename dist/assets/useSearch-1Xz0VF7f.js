import{g as t,ai as R,t as T,D as s}from"./index-CvZ0wdb0.js";import{d as z}from"./Select-D5OM6xxo.js";function a({apiUrl:e,debounceTime:n=500,limit:p=8,requiresAuth:y=!1,owner_id:S,transformResponse:A=i=>i,preload:m=!1,defaultQuery:l=""}){const[i,P]=t.useState(l),[d,f]=t.useState([]),[Q,w]=t.useState(!1),[D,b]=t.useState(null),[K,U]=t.useState(0),[h,C]=t.useState(0),[g,$]=t.useState(0),q=t.useRef(!1),o=t.useCallback(async(r,c)=>{w(!0),b(null);try{let u={};if(y){const I=R();if(!I)throw new Error("Authentication token is required for this search");u={Authorization:`Bearer ${I}`}}const L=await T.get(e,{params:{keyword:r,page:c,limit:p,owner_id:S||void 0},headers:u}),k=A(L.data);f(k.item),C(k.total_page),$(k.total_item)}catch(u){b(u instanceof Error?u:new Error("An error occurred")),f([])}finally{w(!1)}},[e,p,y,A,S]),E=t.useCallback(z(r=>{r?(o(r,0),U(0)):(f([]),C(0),$(0))},n),[o,n]),_=t.useCallback(r=>{P(r),E(r)},[E]),v=(r,c)=>{U(c),o(i,c-1)};t.useEffect(()=>{m&&!q.current&&(o(l,0),q.current=!0)},[m,l,o]);const x=t.useMemo(()=>({results:d,totalPages:h,totalItems:g}),[d,h,g]);return{query:i,setQuery:_,...x,results:d,loading:Q,error:D,page:K,totalPages:h,totalItems:g,handlePageChange:v}}const O=(e=500)=>a({apiUrl:`${s}/kois/get-kois-owner-by-keyword`,requiresAuth:!0,preload:!0,defaultQuery:"",debounceTime:e}),B=(e,n=500)=>a({apiUrl:`${s}/kois/get-kois-owner-by-keyword-not-auth`,requiresAuth:!1,preload:!0,defaultQuery:"",debounceTime:n,owner_id:e}),Y=(e=500)=>a({apiUrl:`${s}/kois/get-unverified-kois-by-keyword`,requiresAuth:!0,preload:!0,defaultQuery:"",debounceTime:e}),j=(e=500)=>a({apiUrl:`${s}/auctionkois/get-kois-by-keyword`,limit:12,requiresAuth:!1,preload:!0,defaultQuery:"",debounceTime:e}),F=(e=500)=>a({apiUrl:`${s}/auctions/get-auctions-by-keyword`,limit:30,requiresAuth:!1,preload:!0,defaultQuery:"",debounceTime:e}),G=(e=500)=>a({apiUrl:`${s}/auctions/get-auctions-upcoming`,requiresAuth:!0,preload:!0,defaultQuery:"",debounceTime:e});export{F as a,B as b,O as c,G as d,Y as e,j as u};
