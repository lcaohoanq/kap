import{k as t,T as s,S as A,l as R,g as n,a4 as _,a2 as T,R as S,q as f}from"./index-CvZ0wdb0.js";import{A as C}from"./AuctionCart-C3wcc1HH.js";import{S as I}from"./index-lzfISeJt.js";import{a as L}from"./useSearch-1Xz0VF7f.js";import{P as O}from"./PaginationComponent-BZqrDqKJ.js";import{S as P}from"./SearchBar-DR0M-pwT.js";import{f as b}from"./auction.apis-DPc9A9vT.js";import"./CrudButtonComponent-lwbX-b_F.js";import"./dateTimeUtils-CQFQMvEL.js";import"./format-BOZTN9QO.js";import"./Select-D5OM6xxo.js";import"./useFormControl-Cz7kLNRm.js";import"./Box-CMC4TlbO.js";import"./TextField-DmIMr6K4.js";import"./dataConverter-DNxSg1bu.js";const H=()=>{const{query:r,setQuery:i,results:e,loading:a,error:c,page:l,totalPages:m,totalItems:u,handlePageChange:d}=L(500);return t.jsxs("div",{className:"container mx-auto p-4 mt-14",children:[t.jsxs("div",{className:"bg-gray-200 p-4 rounded-xl",children:[t.jsx(s,{variant:"h5",sx:{textAlign:"left",marginBottom:"1rem"},children:A.SEARCH_ALL_OUR_AUCTION}),t.jsx(P,{value:r,onChange:i,loading:a,placeholder:A.EXAMPLE_AUCTION_SEARCH}),t.jsx(s,{variant:"body2",sx:{textAlign:"left",marginTop:"1rem"},color:"error",children:R.SEARCH_ALL_OUR_AUCTION_DESCRIPTION})]}),a&&t.jsx("p",{className:"mt-2",children:"Searching..."}),c&&t.jsx("p",{className:"text-red-500 mt-2",children:c.message}),(e==null?void 0:e.length)>0&&!a&&t.jsxs("div",{className:"mt-3 text-gray-500",children:[t.jsxs(s,{variant:"body2",className:"mt-3",children:["Showing 1 - ",e.length," of ",u," results."]}),t.jsx(C,{items:e}),t.jsx(O,{totalPages:m,currentPage:l,onPageChange:d}),t.jsx(I,{smooth:!0})]}),!a&&r&&e.length===0&&t.jsx("p",{className:"mt-2",children:"No results found."})]})},U=({fetchAuctionsData:r,cartComponent:i,emptyMessage:e,itemsPerPage:a=18})=>{const[c,l]=n.useState([]),[m,u]=n.useState(1),[d,j]=n.useState(!0),[y,x]=n.useState(!0),[g,E]=n.useState(null),[o,N]=n.useState(!1);n.useEffect(()=>{(async()=>{if(!o){x(!0),E(null);try{const h=await r(m-1,a);l(h),j(h.length===a)}catch(h){console.error(T.FAILED_TO_FETCH_AUCTIONS,h),l([])}finally{x(!1)}}})()},[m,r,a,o]);const v=p=>{N(p)};return y&&!o?t.jsx("div",{className:"flex justify-center items-center h-screen",children:t.jsx(_,{})}):g&&!o?t.jsx(s,{variant:"h5",sx:{marginTop:"10rem",marginBottom:"10rem",color:"error.main",fontWeight:"bold",textAlign:"center"},children:g}):t.jsx("div",{className:"container mx-auto",children:!o&&t.jsx(t.Fragment,{children:c.length===0?t.jsx("div",{className:"flex flex-col justify-center items-center h-[30rem]",children:t.jsx(s,{variant:"h3",sx:{color:"error.main",fontWeight:"bold",textAlign:"center"},children:e})}):t.jsx(t.Fragment,{children:t.jsx(H,{onSearchStateChange:v})})})})},M=()=>{const r=S.useCallback((i,e)=>b(i,e),[]);return t.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:t.jsx(f.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},children:t.jsx(U,{fetchAuctionsData:r,cartComponent:C,emptyMessage:"No auctions found"})})})},Z=S.memo(M);export{Z as default};
