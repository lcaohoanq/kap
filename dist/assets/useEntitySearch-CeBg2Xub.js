import{g as t,ai as _,t as b,D as m}from"./index-CvZ0wdb0.js";import{O as x}from"./orders.type-CY8k0T_M.js";import{P as O}from"./colorUtils-Dbk7jIHi.js";const S=({endpoint:s,initialStatus:g,debounceTime:c=500})=>{const[r,h]=t.useState(""),[o,y]=t.useState(g),[p,f]=t.useState([]),[k,l]=t.useState(!1),[E,d]=t.useState(null),[n,P]=t.useState(1),[w,A]=t.useState(0),[L,C]=t.useState(0),a=t.useCallback(async()=>{l(!0),d(null);try{const e=_();if(!e)throw new Error("Authentication token is required for this search");const u={keyword:r,status:o,page:n-1,limit:10},i=await b.get(s,{params:u,headers:{Authorization:`Bearer ${e}`}});f(i.data.item),A(i.data.total_page),C(i.data.total_item)}catch(e){d(e instanceof Error?e:new Error("An error occurred"))}finally{l(!1)}},[r,o,n,s]);t.useEffect(()=>{const e=setTimeout(()=>{a()},c);return()=>{clearTimeout(e)}},[a,c]);const T=(e,u)=>{P(u)},I=t.useCallback(()=>{a()},[a]);return{query:r,setQuery:h,status:o,setStatus:y,results:p,loading:k,error:E,page:n,totalPages:w,totalItems:L,handlePageChange:T,refreshEntities:I}},R=(s=500)=>S({endpoint:`${m}/orders/get-orders-by-keyword-and-status`,initialStatus:x.ALL,debounceTime:s}),U=(s=500)=>S({endpoint:`${m}/payments/get-payments-by-keyword-and-status`,initialStatus:O.ALL,debounceTime:s});export{U as a,R as u};
