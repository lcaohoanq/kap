import{l as t,T as s,S as f,o as R,g as n,L as _,a1 as T,R as S,x as A}from"./index-CZBwRkMB.js";import{A as C}from"./AuctionCart-CMPv1jcN.js";import{S as L}from"./index-1FA6hMXZ.js";import{u as I}from"./useSearch-CLXYnf_S.js";import{P as O}from"./PaginationComponent-6LQ412tG.js";import{S as P}from"./SearchBar-Z1scFhvT.js";import{f as b}from"./auction.apis-CoEy0JAj.js";import"./CrudButtonComponent-DO3oJB3V.js";import"./dateTimeUtils-BcV6LRrk.js";import"./format-BOZTN9QO.js";import"./Select-Brq7J5Hy.js";import"./useFormControl-DCod055n.js";import"./Box-C_9pThu7.js";import"./TextField-CYZD3Swe.js";import"./environment-BzuYHCkO.js";const H=()=>{const{query:r,setQuery:i,results:e,loading:a,error:c,page:l,totalPages:m,totalItems:h,handlePageChange:d}=I(500);return e&&console.log(`Data: ${JSON.stringify(e,null,2)}`),t.jsxs("div",{className:"container mx-auto p-4 mt-14",children:[t.jsxs("div",{className:"bg-gray-200 p-4 rounded-xl",children:[t.jsx(s,{variant:"h5",sx:{textAlign:"left",marginBottom:"1rem"},children:f.SEARCH_ALL_OUR_AUCTION}),t.jsx(P,{value:r,onChange:i,loading:a,placeholder:f.EXAMPLE_AUCTION_SEARCH}),t.jsx(s,{variant:"body2",sx:{textAlign:"left",marginTop:"1rem"},color:"error",children:R.SEARCH_ALL_OUR_AUCTION_DESCRIPTION})]}),a&&t.jsx("p",{className:"mt-2",children:"Searching..."}),c&&t.jsx("p",{className:"text-red-500 mt-2",children:c.message}),(e==null?void 0:e.length)>0&&!a&&t.jsxs("div",{className:"mt-3 text-gray-500",children:[t.jsxs(s,{variant:"body2",className:"mt-3",children:["Showing 1 - ",e.length," of ",h," results."]}),t.jsx(C,{items:e}),t.jsx(O,{totalPages:m,currentPage:l,onPageChange:d}),t.jsx(L,{smooth:!0})]}),!a&&r&&e.length===0&&t.jsx("p",{className:"mt-2",children:"No results found."})]})},U=({fetchAuctionsData:r,cartComponent:i,emptyMessage:e,itemsPerPage:a=18})=>{const[c,l]=n.useState([]),[m,h]=n.useState(1),[d,j]=n.useState(!0),[y,x]=n.useState(!0),[g,E]=n.useState(null),[o,N]=n.useState(!1);n.useEffect(()=>{(async()=>{if(!o){x(!0),E(null);try{const u=await r(m-1,a);l(u),j(u.length===a)}catch(u){console.error(T.FAILED_TO_FETCH_AUCTIONS,u),l([])}finally{x(!1)}}})()},[m,r,a,o]);const v=p=>{N(p)};return y&&!o?t.jsx("div",{className:"flex justify-center items-center h-screen",children:t.jsx(_,{})}):g&&!o?t.jsx(s,{variant:"h5",sx:{marginTop:"10rem",marginBottom:"10rem",color:"error.main",fontWeight:"bold",textAlign:"center"},children:g}):t.jsx("div",{className:"container mx-auto",children:!o&&t.jsx(t.Fragment,{children:c.length===0?t.jsx("div",{className:"flex flex-col justify-center items-center h-[30rem]",children:t.jsx(s,{variant:"h3",sx:{color:"error.main",fontWeight:"bold",textAlign:"center"},children:e})}):t.jsx(t.Fragment,{children:t.jsx(H,{onSearchStateChange:v})})})})},D=()=>{const r=S.useCallback((i,e)=>b(i,e),[]);return t.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:t.jsx(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},children:t.jsx(U,{fetchAuctionsData:r,cartComponent:C,emptyMessage:"No auctions found"})})})},Y=S.memo(D);export{Y as default};
