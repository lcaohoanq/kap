import{g as o,k as e,L as w,a6 as u,au as S,av as C,t as y,D as v,T as g,S as p,l as A,C as E,a5 as B,j as I,a4 as L,a7 as P}from"./index-CvZ0wdb0.js";import{N as R}from"./NavigateButton-rRk85t1f.js";import{P as K}from"./PaginationComponent-BZqrDqKJ.js";import{S as X}from"./SearchBar-DR0M-pwT.js";import{b as T}from"./useSearch-1Xz0VF7f.js";import{c as j,g as b}from"./dataConverter-DNxSg1bu.js";import{K as N}from"./KoiDetails-Sov7obOH.js";import{B as _}from"./Box-CMC4TlbO.js";import"./TextField-DmIMr6K4.js";import"./Select-D5OM6xxo.js";import"./useFormControl-Cz7kLNRm.js";import"./dateTimeUtils-CQFQMvEL.js";import"./format-BOZTN9QO.js";const D=({kois:i,renderActions:r})=>{const[a,d]=o.useState({total_page:0,total_item:0,item:[]});return o.useEffect(()=>{(async()=>{try{const t=await y.get(`${v}/breeders`,{params:{page:0,limit:20}});d(t.data||[])}catch(t){console.error("Error fetching breeders:",t)}})()},[]),e.jsx("div",{className:"mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:i.map(s=>{var t;return e.jsx(w,{to:`/kois/${s.id}`,className:"transform overflow-hidden m-1 md:m-5 rounded-[1.5rem] bg-white shadow-md transition-transform hover:scale-102",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"relative flex md:justify-center bg-gradient-to-r from-[#1365b4] to-[#1584cb] duration-300 ease-in-out",children:[e.jsx("div",{className:"h-[17rem] w-[50%] md:h-[28rem] md:w-[23rem] flex justify-center",children:e.jsx("div",{className:"absolute w-[30%] h-[60%] top-1/2 left-1/4 -translate-x-1/2 -translate-y-1/2 md:w-[60%] md:h-[90%] md:top-1/2 md:left-1/2",children:e.jsx("img",{src:s.thumbnail,alt:s.name,className:"h-full w-full drop-shadow-[9px_-9px_6px_rgba(0,0,0,0.2)] duration-500 hover:drop-shadow-[9px_-9px_6px_rgba(0,0,0,0.35)] opacity-100"})})}),e.jsx("div",{className:"absolute top-3 left-3 bg-opacity-50 text-white rounded-full p-3 text-lg flex items-center",children:a.item.find(l=>l.id===s.owner_id)&&e.jsx("img",{src:(t=a.item.find(l=>l.id===s.owner_id))==null?void 0:t.avatar_url,alt:"Breeder Avatar",className:"w-12 h-12 md:w-1/2 md:h-1/2 object-contain"})}),e.jsxs("div",{className:"absolute bottom-9 left-2 md:bottom-2 md:left-3 text-white rounded-full p-1 text-md font-bold",children:[e.jsx(u,{icon:S,className:"mr-1"}),s.id]}),e.jsx("div",{className:"sm:hidden bg-gray-300 rounded-xl m-3 p-2 text-md font-bold w-1/2",children:e.jsx(N,{category:b(s.category_id),sex:j(s.sex),length:s.length,year_born:s.year_born})}),e.jsx("div",{className:"absolute bottom-2 left-2 sm:left-auto sm:right-2 text-white rounded-full p-1 text-md font-bold",children:[...Array(5)].map((l,c)=>e.jsx(u,{icon:C,className:"mr-1"},c))})]}),e.jsxs("div",{className:"p-4 bg-gray-300 sm:flex sm:flex-col",children:[e.jsx("h2",{className:"text-xl mt-1 mb-1 text-black font-semibold",children:s.name}),e.jsx("div",{className:"hidden sm:flex flex-col sm:flex-row",children:e.jsx("hr",{className:"w-full border-t border-gray-400 my-2"})}),e.jsx("div",{className:"hidden sm:block",children:e.jsx(N,{category:b(s.category_id),sex:j(s.sex),length:s.length,year_born:s.year_born})}),r&&r(s)]})]})},s.id)})})},O=({owner_id:i,onSearchStateChange:r})=>{const{query:a,setQuery:d,results:s,loading:t,error:l,page:c,totalPages:h,totalItems:f,handlePageChange:x}=T(i,500);return o.useEffect(()=>{r(t)},[t,r]),e.jsxs("div",{className:"container mx-auto p-4 mt-10",children:[e.jsxs("div",{className:"bg-gray-200 p-4 rounded-xl",children:[e.jsx(g,{variant:"h6",sx:{textAlign:"left",marginBottom:"1rem"},children:p.SEARCH_BREEDER_KOI}),e.jsx(X,{value:a,onChange:d,loading:t,placeholder:p.EXAMPLE_KOI_SEARCH}),e.jsx(g,{variant:"body2",sx:{textAlign:"left",marginTop:"1rem"},color:"error",children:A.SEARCH_ALL_KOI_DESCRIPTION})]}),t&&e.jsx(_,{display:"flex",justifyContent:"center",my:4,children:e.jsx(E,{})}),l&&e.jsx("p",{className:"text-red-500 mt-2",children:l.message}),s.length>0&&!t&&e.jsxs("div",{className:"mt-3 text-gray-500",children:[e.jsxs(g,{variant:"body2",className:"mt-3",children:["Showing 1 - ",s.length," of ",f," results."]}),e.jsx(D,{kois:s}),e.jsx(K,{totalPages:h,currentPage:c,onPageChange:x})]}),!t&&a&&s.length===0&&e.jsx("p",{className:"mt-2",children:"No results found."})]})},Z=()=>{var x;const{id:i}=B(),r=I(),[a,d]=o.useState(null),[s,t]=o.useState(!0),[l,c]=o.useState(!1),h=m=>{c(m)},f=async m=>{try{const n=await y.get(`${v}/breeders/${m}`);n.data?d(n.data):r("/notfound")}catch(n){console.error("Error fetching breeder:",n),r("/notfound")}finally{t(!1)}};return o.useEffect(()=>{i&&f(i)},[i]),s?e.jsx(L,{}):a?e.jsxs("div",{className:"container mx-auto mt-8 px-4 mb-8",children:[e.jsx(_,{sx:{display:"flex",justifyContent:"start",marginBottom:"1rem"},children:e.jsx(R,{to:"/",icon:e.jsx(u,{icon:P}),text:"",className:"rounded bg-gray-300 px-5 py-3 text-lg text-black transition hover:bg-gray-200"})}),e.jsxs("div",{className:"rounded-lg bg-white p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center",children:[e.jsx("img",{src:a.avatar_url,alt:`${a.first_name} logo`,className:"mr-4 h-20 w-20"}),e.jsxs("h1",{className:"text-3xl font-bold",children:[a.first_name," ",a.last_name]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("h2",{className:"mb-2 text-xl font-semibold",children:["About ",a.first_name]}),e.jsx("p",{className:"text-gray-700",children:a.description||"This breeder specializes in high-quality Koi fish."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Specialties"}),e.jsx("ul",{className:"list-inside list-disc text-gray-700",children:((x=a.specialties)==null?void 0:x.map((m,n)=>e.jsx("li",{children:m},n)))||e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"High-quality Kohaku"}),e.jsx("li",{children:"Rare Showa varieties"}),e.jsx("li",{children:"Champion Sanke bloodlines"})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Contact Information"}),e.jsxs("p",{className:"text-gray-700",children:["Email:"," ",a.email||`info@${a.first_name.toLowerCase()}.com`]}),e.jsxs("p",{className:"text-gray-700",children:["Phone: ",a.phone||"+81 XXX-XXX-XXXX"]})]})]}),e.jsx(O,{owner_id:a.id,onSearchStateChange:h})]}):e.jsx("div",{children:"Breeder not found"})};export{Z as default};
