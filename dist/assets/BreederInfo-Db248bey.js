import{k as e,L as y,t as _,a6 as u,au as w,av as S,g as x,T as g,S as j,l as C,C as A,a5 as E,j as I,a7 as B,a2 as L,a3 as P}from"./index-CWISwWJd.js";import{N as R}from"./NavigateButton-Bbx1_FMD.js";import{P as X}from"./PaginationComponent-KRv-3E9a.js";import{S as K}from"./SearchBar-xbHwbQbq.js";import{b as T}from"./useSearch-4z50Ya_C.js";import{u as O}from"./useBreeders-DaWpdjbo.js";import{c as p,g as b}from"./dataConverter-XHHqu_XV.js";import{K as N}from"./KoiDetails-BHbIPdBw.js";import{B as v}from"./Box-CXrrZtx3.js";import"./TextField-BE1Be_bw.js";import"./Select-DWOTwv4U.js";import"./useFormControl-BPgDhIut.js";import"./dateTimeUtils-CQFQMvEL.js";import"./format-BOZTN9QO.js";const D=({kois:i,renderActions:t})=>{const{data:a,isLoading:d,error:r}=O();return d?e.jsx(y,{}):r?e.jsx("div",{children:"Error"}):e.jsx("div",{className:"mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:i.map(s=>{var n;return e.jsx(_,{to:`/kois/${s.id}`,className:"transform overflow-hidden m-1 md:m-5 rounded-[1.5rem] bg-white shadow-md transition-transform hover:scale-102",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"relative flex md:justify-center bg-gradient-to-r from-[#1365b4] to-[#1584cb] duration-300 ease-in-out",children:[e.jsx("div",{className:"h-[17rem] w-[50%] md:h-[28rem] md:w-[23rem] flex justify-center",children:e.jsx("div",{className:"absolute w-[30%] h-[60%] top-1/2 left-1/4 -translate-x-1/2 -translate-y-1/2 md:w-[60%] md:h-[90%] md:top-1/2 md:left-1/2",children:e.jsx("img",{src:s.thumbnail,alt:s.name,className:"h-full w-full drop-shadow-[9px_-9px_6px_rgba(0,0,0,0.2)] duration-500 hover:drop-shadow-[9px_-9px_6px_rgba(0,0,0,0.35)] opacity-100"})})}),e.jsx("div",{className:"absolute top-3 left-3 bg-opacity-50 text-white rounded-full p-3 text-lg flex items-center",children:(a==null?void 0:a.find(l=>l.user_response.id===s.owner_id))&&e.jsx("img",{src:(n=a.find(l=>l.user_response.id===s.owner_id))==null?void 0:n.user_response.avatar_url,alt:"Breeder Avatar",className:"w-12 h-12 md:w-1/2 md:h-1/2 object-contain"})}),e.jsxs("div",{className:"absolute bottom-9 left-2 md:bottom-2 md:left-3 text-white rounded-full p-1 text-md font-bold",children:[e.jsx(u,{icon:w,className:"mr-1"}),s.id]}),e.jsx("div",{className:"sm:hidden bg-gray-300 rounded-xl m-3 p-2 text-md font-bold w-1/2",children:e.jsx(N,{category:b(s.category_id),sex:p(s.sex),length:s.length,year_born:s.year_born})}),e.jsx("div",{className:"absolute bottom-2 left-2 sm:left-auto sm:right-2 text-white rounded-full p-1 text-md font-bold",children:[...Array(5)].map((l,m)=>e.jsx(u,{icon:S,className:"mr-1"},m))})]}),e.jsxs("div",{className:"p-4 bg-gray-300 sm:flex sm:flex-col",children:[e.jsx("h2",{className:"text-xl mt-1 mb-1 text-black font-semibold",children:s.name}),e.jsx("div",{className:"hidden sm:flex flex-col sm:flex-row",children:e.jsx("hr",{className:"w-full border-t border-gray-400 my-2"})}),e.jsx("div",{className:"hidden sm:block",children:e.jsx(N,{category:b(s.category_id),sex:p(s.sex),length:s.length,year_born:s.year_born})}),t&&t(s)]})]})},s.id)})})},H=({owner_id:i,onSearchStateChange:t})=>{const{query:a,setQuery:d,results:r,loading:s,error:n,page:l,totalPages:m,totalItems:f,handlePageChange:h}=T(i,500);return x.useEffect(()=>{t(s)},[s,t]),e.jsxs("div",{className:"container mx-auto p-4 mt-10",children:[e.jsxs("div",{className:"bg-gray-200 p-4 rounded-xl",children:[e.jsx(g,{variant:"h6",sx:{textAlign:"left",marginBottom:"1rem"},children:j.SEARCH_BREEDER_KOI}),e.jsx(K,{value:a,onChange:d,loading:s,placeholder:j.EXAMPLE_KOI_SEARCH}),e.jsx(g,{variant:"body2",sx:{textAlign:"left",marginTop:"1rem"},color:"error",children:C.SEARCH_ALL_KOI_DESCRIPTION})]}),s&&e.jsx(v,{display:"flex",justifyContent:"center",my:4,children:e.jsx(A,{})}),n&&e.jsx("p",{className:"text-red-500 mt-2",children:n.message}),r.length>0&&!s&&e.jsxs("div",{className:"mt-3 text-gray-500",children:[e.jsxs(g,{variant:"body2",className:"mt-3",children:["Showing 1 - ",r.length," of ",f," results."]}),e.jsx(D,{kois:r}),e.jsx(X,{totalPages:m,currentPage:l,onPageChange:h})]}),!s&&a&&r.length===0&&e.jsx("p",{className:"mt-2",children:"No results found."})]})},ee=()=>{var h;const{id:i}=E(),t=I(),[a,d]=x.useState(null),[r,s]=x.useState(!0),[n,l]=x.useState(!1),m=c=>{l(c)},f=async c=>{try{const o=await L.get(`${P}/breeders/${c}`);o.data?d(o.data):t("/notfound")}catch(o){console.error("Error fetching breeder:",o),t("/notfound")}finally{s(!1)}};return x.useEffect(()=>{i&&f(i)},[i]),r?e.jsx(y,{}):a?e.jsxs("div",{className:"container mx-auto mt-8 px-4 mb-8",children:[e.jsx(v,{sx:{display:"flex",justifyContent:"start",marginBottom:"1rem"},children:e.jsx(R,{to:"/",icon:e.jsx(u,{icon:B}),text:"",className:"rounded bg-gray-300 px-5 py-3 text-lg text-black transition hover:bg-gray-200"})}),e.jsxs("div",{className:"rounded-lg bg-white p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center",children:[e.jsx("img",{src:a.avatar_url,alt:`${a.first_name} logo`,className:"mr-4 h-20 w-20"}),e.jsxs("h1",{className:"text-3xl font-bold",children:[a.first_name," ",a.last_name]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("h2",{className:"mb-2 text-xl font-semibold",children:["About ",a.first_name]}),e.jsx("p",{className:"text-gray-700",children:a.description||"This breeder specializes in high-quality Koi fish."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Specialties"}),e.jsx("ul",{className:"list-inside list-disc text-gray-700",children:((h=a.specialties)==null?void 0:h.map((c,o)=>e.jsx("li",{children:c},o)))||e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"High-quality Kohaku"}),e.jsx("li",{children:"Rare Showa varieties"}),e.jsx("li",{children:"Champion Sanke bloodlines"})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Contact Information"}),e.jsxs("p",{className:"text-gray-700",children:["Email:"," ",a.email||`info@${a.first_name.toLowerCase()}.com`]}),e.jsxs("p",{className:"text-gray-700",children:["Phone: ",a.phone||"+81 XXX-XXX-XXXX"]})]})]}),e.jsx(H,{owner_id:a.id,onSearchStateChange:m})]}):e.jsx("div",{children:"Breeder not found"})};export{ee as default};
