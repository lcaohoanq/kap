import{k as e,L as S,a6 as j,au as A,av as I,aB as p,g as t,o as L,j as P,t as C,D as E,a4 as T,T as d}from"./index-CvZ0wdb0.js";import{g as B}from"./dataConverter-DNxSg1bu.js";import{K as v}from"./KoiDetails-Sov7obOH.js";import{k as y}from"./koibreeders-C8vjzIiM.js";import"./dateTimeUtils-CQFQMvEL.js";import"./format-BOZTN9QO.js";const D=({kois:r,renderActions:a})=>e.jsx("div",{className:"mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:r.map(s=>{var o;return e.jsxs("div",{className:"transform overflow-hidden m-1 md:m-5 rounded-[1.5rem] bg-white shadow-md transition-transform hover:scale-102",children:[e.jsx("div",{className:"flex justify-end bg-gray-200",children:a&&a(s)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"relative flex md:justify-center bg-gradient-to-r from-[#1365b4] to-[#1584cb] duration-300 ease-in-out",children:[e.jsx(S,{to:`/kois/${s.id}`,className:"relative flex md:justify-center bg-gradient-to-r from-[#1365b4] to-[#1584cb] duration-300 ease-in-out",children:e.jsx("div",{className:"h-[17rem] w-[50%] md:h-[28rem] md:w-[23rem] flex justify-center",children:e.jsx("div",{className:"absolute w-[30%] h-[60%] top-1/2 left-1/4 -translate-x-1/2 -translate-y-1/2 md:w-[60%] md:h-[90%] md:top-1/2 md:left-1/2",children:e.jsx("img",{src:s.thumbnail,alt:s.name,className:"h-full w-full drop-shadow-[9px_-9px_6px_rgba(0,0,0,0.2)] duration-500 hover:drop-shadow-[9px_-9px_6px_rgba(0,0,0,0.35)] opacity-100"})})})}),e.jsx("div",{className:"absolute top-3 left-3 bg-opacity-50 text-white rounded-full p-3 text-lg flex items-center",children:y.find(i=>i.id===s.owner_id)&&e.jsx("img",{src:(o=y.find(i=>i.id===s.owner_id))==null?void 0:o.avatar_url,alt:"Breeder Avatar",className:"w-[25%]"})}),e.jsxs("div",{className:"absolute bottom-9 left-2 md:bottom-2 md:left-3 text-white rounded-full p-1 text-md font-bold",children:[e.jsx(j,{icon:A,className:"mr-1"}),s.id]}),e.jsx("div",{className:"sm:hidden bg-gray-300 rounded-xl m-3 p-2 text-md font-bold w-1/2",children:e.jsx(v,{category:B(s.category_id),sex:s.sex,length:s.length,year_born:s.year_born})}),e.jsx("div",{className:"absolute bottom-2 left-2 sm:left-auto sm:right-2 text-white rounded-full p-1 text-md font-bold",children:[...Array(5)].map((i,c)=>e.jsx(j,{icon:I,className:"mr-1"},c))})]}),e.jsxs("div",{className:"p-4 bg-gray-300 sm:flex sm:flex-col",children:[e.jsx("h2",{className:"text-xl mt-1 mb-1 text-black font-semibold",children:s.name}),e.jsx("div",{className:"hidden sm:flex flex-col sm:flex-row",children:e.jsx("hr",{className:"w-full border-t border-gray-400 my-2"})}),e.jsx("div",{className:"hidden sm:block",children:e.jsx(v,{category:s.category_id.toString(),sex:s.sex,length:s.length,year_born:s.year_born})})]})]})]},s.id)})}),G=()=>{const r=p("user_id"),a=p("access_token"),[s,o]=t.useState([]),[i,c]=t.useState(0),[m,F]=t.useState(1),[V,N]=t.useState(!0),f=16,[w,x]=t.useState(!0),[h,u]=t.useState(null),{isLoggedIn:g}=L(),_=P(),[$,M]=t.useState(!1),K=l=>{_(`/kois/${l}`)},b=t.useCallback(async()=>{if(!a){u("No access token available"),x(!1);return}try{x(!0);const n=(await C.get(`${E}/breeders/kois/status`,{params:{breeder_id:r,status:"UNVERIFIED",page:m-1,limit:f},headers:{Authorization:`Bearer ${a}`}})).data;n&&(o(n.item),c(n.total_item),N(n.total_page>m))}catch(l){console.error("Cannot fetch Koi data:",l),u("Failed to fetch your verify Koi data")}finally{x(!1)}},[a,m,f]);return t.useEffect(()=>{g&&r&&a&&b()},[g,r,a,b]),w?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(T,{})}):h?e.jsxs("div",{children:["Error: ",h]}):e.jsx("div",{children:s.length>0&&r?e.jsxs("div",{className:"ml-16 mr-16 mb-16",children:[e.jsx(d,{variant:"h4",className:"text-center",children:"Your Kois is waiting to Verified"}),e.jsx(d,{variant:"body1",className:"text-center text-gray-500",sx:{marginTop:"15px"},children:"*Note: Please wait until your koi is verified by our team. We will send result email back, thanks for your patience. From Koi Auction Team."}),e.jsxs(d,{variant:"body2",className:"text-left",children:["Showing 1 - ",s.length," of ",i," results."]}),e.jsx(D,{kois:s,handleView:K})]}):e.jsx("div",{className:"flex flex-col justify-center items-center h-[30rem]",children:e.jsx(d,{variant:"h3",sx:{color:"error.main",fontWeight:"bold",textAlign:"center"},children:"Koi's Unverified Not Available"})})})};export{G as default};
