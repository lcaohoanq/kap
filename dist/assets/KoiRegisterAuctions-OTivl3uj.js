import{k as t,T as i,S as A,l as E,g as o,a4 as T,a2 as _,ar as v}from"./index-DnNoBgXv.js";import{g as y}from"./auction.apis-DFZyfirU.js";import{S as I}from"./index-DeYEHnjC.js";import{d as R}from"./useSearch-Cjlm55pd.js";import{a as U,b as O}from"./AuctionCart-5ATGS4bs.js";import{P as L}from"./PaginationComponent-BvkYkrkj.js";import{S as P}from"./SearchBar-CQMYaBR9.js";import{g as H}from"./dateTimeUtils-CQFQMvEL.js";import"./Select-CUVNMReu.js";import"./useFormControl-CfpcpuJc.js";import"./CrudButtonComponent-zK_IvvHq.js";import"./Box-93Gr-_1_.js";import"./TextField-D3d8CF4T.js";import"./format-BOZTN9QO.js";const M=()=>{const{query:e,setQuery:r,results:a,loading:s,error:c,page:l,totalPages:m,totalItems:u,handlePageChange:d}=R(500);return t.jsxs("div",{className:"container mx-auto p-4 mt-14",children:[t.jsxs("div",{className:"bg-gray-200 p-4 rounded-xl",children:[t.jsx(i,{variant:"h5",sx:{textAlign:"left",marginBottom:"1rem"},children:A.SEARCH_ALL_OUR_UPCOMING_AUCTION}),t.jsx(P,{value:e,onChange:r,loading:s,placeholder:A.EXAMPLE_AUCTION_SEARCH}),t.jsx(i,{variant:"body2",sx:{textAlign:"left",marginTop:"1rem"},color:"error",children:E.SEARCH_ALL_OUR_AUCTION_DESCRIPTION})]}),s&&t.jsx("p",{className:"mt-2",children:"Searching..."}),c&&t.jsx("p",{className:"text-red-500 mt-2",children:c.message}),a.length>0&&!s&&t.jsxs("div",{className:"mt-3 text-gray-500",children:[t.jsxs(i,{variant:"body2",className:"mt-3",children:["Showing 1 - ",a.length," of ",u," results."]}),t.jsx(U,{items:a}),t.jsx(L,{totalPages:m,currentPage:l,onPageChange:d}),t.jsx(I,{smooth:!0})]}),!s&&e&&a.length===0&&t.jsx("p",{className:"mt-2",children:"No results found."})]})},b=({fetchAuctionsData:e,cartComponent:r,emptyMessage:a,itemsPerPage:s=100})=>{const[c,l]=o.useState([]),[m,u]=o.useState(1),[d,S]=o.useState(!0),[C,h]=o.useState(!0),[x,f]=o.useState(null),[n,j]=o.useState(!1);o.useEffect(()=>{(async()=>{if(!n){h(!0),f(null);try{const g=await e(m-1,s);l(g),S(g.length===s)}catch(g){console.error(_.FAILED_TO_FETCH_AUCTIONS,g),l([])}finally{h(!1)}}})()},[m,e,s,n]);const N=p=>{j(p)};return C&&!n?t.jsx("div",{className:"flex justify-center items-center h-screen",children:t.jsx(T,{})}):x&&!n?t.jsx(i,{variant:"h5",sx:{marginTop:"10rem",marginBottom:"10rem",color:"error.main",fontWeight:"bold",textAlign:"center"},children:x}):t.jsx("div",{className:"container mx-auto",children:!n&&t.jsx(t.Fragment,{children:c.length===0?t.jsx("div",{className:"flex flex-col justify-center items-center h-[30rem]",children:t.jsx(i,{variant:"h3",sx:{color:"error.main",fontWeight:"bold",textAlign:"center"},children:a})}):t.jsx(t.Fragment,{children:t.jsx(M,{onSearchStateChange:N})})})})},B=({items:e})=>t.jsx("div",{className:"koi-container grid grid-cols-1 gap-3 p-5 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-3",children:e.map(r=>t.jsx(O,{auction:r,link:`/auctions/register/${r.id}`,getStatus:H},r.id))}),Y=()=>t.jsx(b,{fetchAuctionsData:(e,r)=>y(e,r,v.UPCOMING),cartComponent:B,emptyMessage:"No upcoming auctions found"});export{Y as default};
